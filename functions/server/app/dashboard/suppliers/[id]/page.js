(()=>{var e={};e.id=5543,e.ids=[5543],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},89836:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>d.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),r(15378),r(22834),r(62510),r(35866);var t=r(23191),a=r(88716),i=r(37922),d=r.n(i),n=r(95231),l={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>n[e]);r.d(s,l);let c=["",{children:["dashboard",{children:["suppliers",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,15378)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\suppliers\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62510)),"D:\\APP\\deer-lab\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\APP\\deer-lab\\src\\app\\dashboard\\suppliers\\[id]\\page.tsx"],m="/dashboard/suppliers/[id]/page",x={require:r,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/suppliers/[id]/page",pathname:"/dashboard/suppliers/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},25012:(e,s,r)=>{Promise.resolve().then(r.bind(r,21259))},86333:(e,s,r)=>{"use strict";r.d(s,{Z:()=>t});let t=(0,r(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},21259:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>b});var t=r(10326),a=r(17577),i=r(35047),d=r(76),n=r(90445),l=r(86333),c=r(69508),o=r(38787),m=r(62881);let x=(0,m.Z)("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);var u=r(42887);let p=(0,m.Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);var h=r(91664),g=r(29752),f=r(38443),j=r(91059);function b(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),[r,m]=(0,a.useState)(null),[b,N]=(0,a.useState)(!0),[y,v]=(0,a.useState)(null),[w,P]=(0,a.useState)(!1),q=async()=>{N(!0);try{if(!e.id||"string"!=typeof e.id){v("供應商 ID 無效");return}if(!n.db)throw Error("Firebase 未初始化");let s=await (0,d.QT)((0,d.doc)(n.db,"suppliers",e.id));if(!s.exists()){v("供應商不存在");return}let r=s.data(),t="未知";if(r.createdBy)try{let e=await (0,d.QT)((0,d.doc)(n.db,"users",r.createdBy));if(e.exists()){let s=e.data();t=s?.name||s?.email||"未知"}}catch(e){console.error("Failed to fetch creator name:",e)}m({id:s.id,code:r.code,name:r.name,contactPerson:r.contactPerson,phone:r.phone,email:r.email,address:r.address,website:r.website,status:r.status,createdAt:r.createdAt?.toDate()||new Date,createdBy:r.createdBy,createdByName:t})}catch(e){console.error("Failed to refresh supplier data:",e),v("重新載入供應商資料失敗")}finally{N(!1)}};return b?t.jsx("div",{className:"container mx-auto py-10",children:t.jsx("div",{className:"flex justify-center items-center py-20",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-border rounded-full animate-spin border-t-primary mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"載入中..."})]})})}):y||!r?t.jsx("div",{className:"container mx-auto py-10",children:t.jsx("div",{className:"flex justify-center items-center py-20",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("p",{className:"text-red-600 mb-4",children:y||"供應商不存在"}),(0,t.jsxs)(h.z,{onClick:()=>s.back(),children:[t.jsx(l.Z,{className:"mr-2 h-4 w-4"}),"返回"]})]})})}):(0,t.jsxs)("div",{className:"container mx-auto py-10",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[t.jsx(h.z,{variant:"outline",size:"icon",onClick:()=>s.back(),className:"hover:bg-primary/10 hover:border-primary/20",children:t.jsx(l.Z,{className:"h-4 w-4"})}),(0,t.jsxs)("div",{className:"flex-grow",children:[t.jsx("h1",{className:"text-3xl font-bold text-primary",children:"供應商詳情"}),t.jsx("p",{className:"text-muted-foreground font-mono",children:r.code})]}),(0,t.jsxs)(h.z,{onClick:()=>{P(!0)},className:"bg-primary hover:bg-primary/90",children:[t.jsx(c.Z,{className:"mr-2 h-4 w-4"}),"編輯供應商"]})]}),(0,t.jsxs)(g.Zb,{className:"mb-6 border-0 shadow-lg bg-gradient-to-r from-background to-primary/10",children:[t.jsx(g.Ol,{children:t.jsx(g.ll,{className:"flex items-center gap-2 text-primary",children:"核心資訊"})}),t.jsx(g.aY,{children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:t.jsx(o.Z,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"供應商名稱"}),t.jsx("p",{className:"text-lg font-semibold text-blue-800",children:r.name})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:t.jsx(x,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-green-600 font-medium",children:"供應商編號"}),t.jsx("p",{className:"text-lg font-semibold text-green-800",children:r.code})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:t.jsx(u.Z,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"聯絡人"}),t.jsx("p",{className:"text-lg font-semibold text-purple-800",children:r.contactPerson||"未指定"})]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:t.jsx(p,{className:"h-5 w-5 text-white"})}),(0,t.jsxs)("div",{children:[t.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"狀態"}),t.jsx(f.C,{className:"active"===r.status?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300",children:"active"===r.status?"啟用":"停用"})]})]})]})})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,t.jsxs)(g.Zb,{className:"border-0 shadow-lg",children:[t.jsx(g.Ol,{children:t.jsx(g.ll,{className:"text-lg text-primary",children:"基本資訊"})}),t.jsx(g.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"供應商名稱"}),t.jsx("span",{className:"font-medium",children:r.name})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"供應商編號"}),t.jsx("span",{className:"font-medium",children:r.code})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"聯絡人"}),t.jsx("span",{className:"font-medium",children:r.contactPerson||"未指定"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"狀態"}),t.jsx(f.C,{className:"active"===r.status?"bg-green-100 text-green-800 border-green-300":"bg-red-100 text-red-800 border-red-300",children:"active"===r.status?"啟用":"停用"})]})]})})]}),(0,t.jsxs)(g.Zb,{className:"border-0 shadow-lg",children:[t.jsx(g.Ol,{children:t.jsx(g.ll,{className:"text-lg text-primary",children:"聯絡資訊"})}),t.jsx(g.aY,{className:"space-y-4",children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"電話"}),t.jsx("span",{className:"font-medium",children:r.phone||"未指定"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"電子郵件"}),t.jsx("span",{className:"font-medium",children:r.email||"未指定"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"地址"}),t.jsx("span",{className:"font-medium",children:r.address||"未指定"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center py-2 border-b",children:[t.jsx("span",{className:"text-muted-foreground",children:"網站"}),t.jsx("span",{className:"font-medium",children:r.website||"未指定"})]})]})})]})]}),r&&t.jsx(j.g,{isOpen:w,onOpenChange:P,onSupplierUpdate:q,supplierData:{...r}})]})}},29752:(e,s,r)=>{"use strict";r.d(s,{Ol:()=>d,SZ:()=>l,Zb:()=>i,aY:()=>c,eW:()=>o,ll:()=>n});var t=r(10326);r(17577);var a=r(51223);function i({className:e,...s}){return t.jsx("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",e),...s})}function d({className:e,...s}){return t.jsx("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",e),...s})}function n({className:e,...s}){return t.jsx("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...s})}function l({className:e,...s}){return t.jsx("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...s})}function c({className:e,...s}){return t.jsx("div",{"data-slot":"card-content",className:(0,a.cn)("",e),...s})}function o({className:e,...s}){return t.jsx("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center",e),...s})}},15378:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>t});let t=(0,r(68570).createProxy)(String.raw`D:\APP\deer-lab\src\app\dashboard\suppliers\[id]\page.tsx#default`)}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[8948,9654,5540,8693,692,9516,4108,4334,6973],()=>r(89836));module.exports=t})();
(()=>{var e={};e.id=7955,e.ids=[7955],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},98083:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c}),t(60055),t(22834),t(62510),t(35866);var a=t(23191),r=t(88716),l=t(37922),i=t.n(l),d=t(95231),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let c=["",{children:["dashboard",{children:["suppliers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,60055)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\suppliers\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,22834)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,62510)),"D:\\APP\\deer-lab\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],o=["D:\\APP\\deer-lab\\src\\app\\dashboard\\suppliers\\page.tsx"],x="/dashboard/suppliers/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/suppliers/page",pathname:"/dashboard/suppliers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},53030:(e,s,t)=>{Promise.resolve().then(t.bind(t,41938))},10591:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},15919:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},83855:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},41938:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>D});var a=t(10326),r=t(17577),l=t(76),i=t(78880),d=t(90445),n=t(91059),c=t(13898),o=t(83855),x=t(88307),m=t(38787),h=t(15919),u=t(12714),p=t(69508),g=t(48705),j=t(79635),b=t(42887),f=t(10591),N=t(85999),y=t(91664),v=t(38443),w=t(41190),k=t(41156),C=t(10143),P=t(24118);function Z(){let[e,s]=(0,r.useState)([]),[t,f]=(0,r.useState)([]),[v,Z]=(0,r.useState)(!0),[D,q]=(0,r.useState)(!1),[S,_]=(0,r.useState)(!1),[z,R]=(0,r.useState)(null),[$,M]=(0,r.useState)(!1),[V,O]=(0,r.useState)(null),[E,F]=(0,r.useState)(""),I=(0,r.useCallback)(async()=>{Z(!0);try{if(!d.db)throw Error("Firebase 未初始化");let e=(0,l.collection)(d.db,"suppliers"),t=await (0,l.getDocs)(e);console.log("原始供應商資料:",t.docs.map(e=>({id:e.id,...e.data()})));let a=await Promise.all(t.docs.map(async e=>{let s=e.data(),t="",a="";if(s.liaisonPersonId&&d.db)try{let e=await (0,l.QT)((0,l.doc)(d.db,"users",s.liaisonPersonId));if(e.exists()){let s=e.data();t=s.name||"",a=s.phone||""}}catch(e){console.error("獲取對接人員資訊失敗:",e)}let r={...s,id:e.id,liaisonPersonName:t,liaisonPersonPhone:a};return console.log("處理後的供應商資料:",r),r}));console.log("最終供應商列表:",a),s(a),f(a)}catch(e){console.error("讀取供應商資料失敗:",e),N.Am.error("讀取供應商資料失敗，請檢查網路連線或聯絡管理員。")}finally{Z(!1)}},[]),T=()=>{O(null),q(!0)},G=e=>{O(e),q(!0)},X=e=>{O(e),_(!0)},U=e=>{R(e),M(!0)},W=async()=>{if(!V)return;let e=N.Am.loading("正在刪除供應商...");try{let s=(0,i.$C)(),t=(0,i.V1)(s,"deleteSupplier");await t({supplierId:V.id}),N.Am.success(`供應商 ${V.name} 已成功刪除。`,{id:e}),I()}catch(t){console.error("刪除供應商失敗:",t);let s="刪除供應商時發生錯誤。";t instanceof Error&&(s=t.message),N.Am.error(s,{id:e})}finally{_(!1),O(null)}};return(0,a.jsxs)("div",{className:"container mx-auto py-6 suppliers-page",children:[(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"供應商管理"}),a.jsx("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"管理合作供應商與聯絡資訊"})]}),(0,a.jsxs)(y.z,{onClick:T,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 w-full sm:w-auto",children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"新增供應商"]})]}),(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"relative max-w-md",children:[a.jsx(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(w.I,{placeholder:"搜尋供應商名稱、供應商品...",value:E,onChange:e=>F(e.target.value),className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]}),E&&(0,a.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["找到 ",t.length," 個符合條件的供應商"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[a.jsx("div",{className:"lg:hidden px-4 py-3 bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(m.Z,{className:"h-4 w-4 text-blue-600"}),a.jsx("h2",{className:"text-base font-semibold text-gray-800",children:"供應商清單"})]}),(0,a.jsxs)("div",{className:"text-xs text-gray-600",children:["共 ",t.length," 個"]})]})}),v?(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,a.jsxs)("div",{className:"relative",children:[a.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 rounded-full animate-spin"}),a.jsx("div",{className:"absolute top-0 left-0 w-10 h-10 border-4 border-transparent border-t-blue-600 rounded-full animate-spin"})]}),a.jsx("span",{className:"mt-3 text-sm text-gray-600 font-medium",children:"載入中..."})]}):t.length>0?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:(0,a.jsxs)(k.iA,{children:[a.jsx(k.xD,{children:(0,a.jsxs)(k.SC,{className:"bg-gray-50/80",children:[a.jsx(k.ss,{className:"font-semibold text-gray-700",children:"供應商名稱"}),a.jsx(k.ss,{className:"font-semibold text-gray-700",children:"供應商品"}),a.jsx(k.ss,{className:"font-semibold text-gray-700",children:"聯絡窗口"}),a.jsx(k.ss,{className:"font-semibold text-gray-700",children:"聯絡方式"}),a.jsx(k.ss,{className:"font-semibold text-gray-700",children:"對接人員"}),a.jsx(k.ss,{className:"text-center font-semibold text-gray-700",children:"操作"})]})}),a.jsx(k.RM,{children:t.map(e=>(0,a.jsxs)(k.SC,{className:"hover:bg-blue-50/50 transition-colors duration-200 cursor-pointer",onClick:()=>U(e),children:[a.jsx(k.pj,{className:"font-medium",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx(m.Z,{className:"h-4 w-4 text-white"})}),e.name]})}),a.jsx(k.pj,{children:e.products||"-"}),a.jsx(k.pj,{children:e.contactWindow||"未指定"}),a.jsx(k.pj,{children:e.contactMethod||"-"}),a.jsx(k.pj,{children:e.liaisonPersonName||"未指定"}),a.jsx(k.pj,{className:"text-center",children:(0,a.jsxs)(C.h_,{children:[a.jsx(C.$F,{asChild:!0,onClick:e=>e.stopPropagation(),children:a.jsx(y.z,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(h.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(C.AW,{align:"end",children:[a.jsx(C.Ju,{children:"操作"}),a.jsx(C.VD,{}),(0,a.jsxs)(C.Xi,{onClick:()=>U(e),children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"查看詳細"]}),(0,a.jsxs)(C.Xi,{onClick:s=>{s.stopPropagation(),G(e)},children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"編輯"]}),a.jsx(C.VD,{}),a.jsx(C.Xi,{onClick:()=>X(e),className:"text-red-600 focus:text-red-600",children:"刪除"})]})]})})]},e.id))})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:t.map(e=>(0,a.jsxs)("div",{className:"p-4 hover:bg-blue-50/50 transition-colors duration-200 cursor-pointer",onClick:()=>U(e),children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx(m.Z,{className:"h-4 w-4 text-white"})}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium text-gray-900 text-sm",children:e.name}),a.jsx("div",{className:"text-xs text-gray-500",children:"供應商"})]})]}),(0,a.jsxs)(C.h_,{children:[a.jsx(C.$F,{asChild:!0,onClick:e=>e.stopPropagation(),children:a.jsx(y.z,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(h.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(C.AW,{align:"end",children:[(0,a.jsxs)(C.Xi,{onClick:()=>U(e),children:[a.jsx(u.Z,{className:"h-4 w-4 mr-2"}),"查看詳細"]}),(0,a.jsxs)(C.Xi,{onClick:()=>G(e),children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"編輯"]}),a.jsx(C.VD,{}),a.jsx(C.Xi,{onClick:()=>X(e),className:"text-red-600",children:"刪除"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(g.Z,{className:"h-3 w-3 text-blue-600"}),a.jsx("span",{className:"text-gray-500",children:"供應商品"})]}),a.jsx("span",{className:"font-medium text-gray-700",children:e.products||"未提供"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(j.Z,{className:"h-3 w-3 text-green-600"}),a.jsx("span",{className:"text-gray-500",children:"聯絡窗口"})]}),a.jsx("span",{className:"font-medium text-gray-700",children:e.contactWindow||"未指定"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(b.Z,{className:"h-3 w-3 text-purple-600"}),a.jsx("span",{className:"text-gray-500",children:"聯絡方式"})]}),a.jsx("span",{className:"font-medium text-gray-700",children:e.contactMethod||"未提供"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[a.jsx(j.Z,{className:"h-3 w-3 text-orange-600"}),a.jsx("span",{className:"text-gray-500",children:"對接人員"})]}),a.jsx("span",{className:"font-medium text-gray-700",children:e.liaisonPersonName||"未指定"})]})]})]},e.id))})]}):(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:a.jsx(m.Z,{className:"h-8 w-8 text-gray-400"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:E?"找不到符合條件的供應商":"沒有供應商資料"}),a.jsx("p",{className:"text-gray-500 mb-4 text-center",children:E?"請嘗試不同的搜尋條件":"開始建立第一個供應商來管理合作關係"}),!E&&(0,a.jsxs)(y.z,{onClick:T,variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50",children:[a.jsx(o.Z,{className:"mr-2 h-4 w-4"}),"新增供應商"]})]})]}),a.jsx(n.g,{isOpen:D,onOpenChange:q,onSupplierUpdate:I,supplierData:V}),V&&a.jsx(c.Q,{isOpen:S,onOpenChange:_,onConfirm:W,title:`確認刪除供應商`,description:`您確定要永久刪除供應商「${V.name}」嗎？此操作無法復原。`}),z&&a.jsx(P.Vq,{open:$,onOpenChange:M,children:(0,a.jsxs)(P.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white",children:[(0,a.jsxs)(P.fK,{className:"pb-4 border-b border-gray-200",children:[(0,a.jsxs)(P.$N,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:a.jsx(m.Z,{className:"h-5 w-5 text-white"})}),"供應商詳情"]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"供應商詳細資訊"})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-blue-800",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(m.Z,{className:"h-4 w-4 text-blue-600"})}),"基本資訊"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"供應商名稱"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:z.name||"-"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"供應商品"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:z.products||"-"})]})]})]}),(0,a.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-green-800",children:[a.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:a.jsx(j.Z,{className:"h-4 w-4 text-green-600"})}),"聯絡資訊"]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"聯絡窗口"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:z.contactWindow||"未指定"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"聯絡方式"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:z.contactMethod||"-"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"對接人員"}),a.jsx("div",{className:"text-lg font-medium text-gray-900",children:z.liaisonPersonName||"未指定"})]})]})]}),z.notes&&(0,a.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-purple-800",children:[a.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"h-4 w-4 text-purple-600"})}),"詳細內容"]}),(0,a.jsxs)("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"備註資料"}),a.jsx("div",{className:"text-lg font-medium text-gray-900 whitespace-pre-wrap bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:z.notes})]})]}),a.jsx(A,{supplierId:z.id})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[a.jsx(y.z,{variant:"outline",onClick:()=>M(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"關閉"}),(0,a.jsxs)(y.z,{onClick:()=>{M(!1),setTimeout(()=>{G(z)},100)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[a.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"編輯"]})]})]})})]})}function A({supplierId:e}){let[s,t]=(0,r.useState)([]),[l,i]=(0,r.useState)([]),[d,n]=(0,r.useState)(!0);if(d)return(0,a.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-orange-800",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"h-4 w-4 text-orange-600"})}),"相關物料和香精"]}),(0,a.jsxs)("div",{className:"flex items-center justify-center py-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),a.jsx("span",{className:"ml-2 text-orange-600",children:"載入中..."})]})]});let c=s.length>0||l.length>0;return(0,a.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200 shadow-sm",children:[(0,a.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-orange-800",children:[a.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:a.jsx(g.Z,{className:"h-4 w-4 text-orange-600"})}),"相關物料和香精"]}),c?(0,a.jsxs)("div",{className:"space-y-6",children:[s.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-orange-700 flex items-center gap-2",children:[a.jsx(m.Z,{className:"h-4 w-4"}),"相關物料 (",s.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),a.jsx(v.C,{variant:"outline",className:"text-xs",children:e.code})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("div",{children:["分類: ",e.category," / ",e.subCategory]}),(0,a.jsxs)("div",{children:["庫存: ",e.currentStock||0," ",e.unit]}),(0,a.jsxs)("div",{children:["成本: NT$ ",e.costPerUnit||0]})]})]},e.id))})]}),l.length>0&&(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("h4",{className:"text-lg font-semibold text-orange-700 flex items-center gap-2",children:[a.jsx(f.Z,{className:"h-4 w-4"}),"相關香精 (",l.length,")"]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:l.map(e=>(0,a.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("div",{className:"font-medium text-gray-900",children:e.name}),a.jsx(v.C,{variant:"outline",className:"text-xs",children:e.code})]}),(0,a.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,a.jsxs)("div",{children:["種類: ",e.fragranceType||e.status]}),(0,a.jsxs)("div",{children:["庫存: ",e.currentStock||0," ",e.unit||"KG"]}),(0,a.jsxs)("div",{children:["成本: NT$ ",e.costPerUnit||0]}),e.percentage&&(0,a.jsxs)("div",{children:["濃度: ",e.percentage,"%"]})]})]},e.id))})]})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-orange-600",children:[a.jsx(g.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),a.jsx("p",{children:"目前沒有相關的物料或香精"})]})]})}function D(){return a.jsx(Z,{})}},13898:(e,s,t)=>{"use strict";t.d(s,{Q:()=>b});var a=t(10326),r=t(17577),l=t(80440),i=t(51223),d=t(91664);let n=l.fC;l.xz;let c=l.h_,o=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:t}));o.displayName=l.aV.displayName;let x=r.forwardRef(({className:e,...s},t)=>(0,a.jsxs)(c,{children:[a.jsx(o,{}),a.jsx(l.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950","p-4 sm:p-6 mx-3 sm:mx-0 rounded-lg","max-w-[calc(100vw-1.5rem)] sm:max-w-lg",e),...s})]}));x.displayName=l.VY.displayName;let m=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});m.displayName="AlertDialogHeader";let h=({className:e,...s})=>a.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="AlertDialogFooter";let u=r.forwardRef(({className:e,...s},t)=>a.jsx(l.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold",e),...s}));u.displayName=l.Dx.displayName;let p=r.forwardRef(({className:e,...s},t)=>a.jsx(l.dk,{ref:t,className:(0,i.cn)("text-sm text-slate-500",e),...s}));p.displayName=l.dk.displayName;let g=r.forwardRef(({className:e,...s},t)=>a.jsx(l.aU,{ref:t,className:(0,i.cn)((0,d.d)(),e),...s}));g.displayName=l.aU.displayName;let j=r.forwardRef(({className:e,...s},t)=>a.jsx(l.$j,{ref:t,className:(0,i.cn)((0,d.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));function b({isOpen:e,onOpenChange:s,onConfirm:t,title:r,description:l}){return a.jsx(n,{open:e,onOpenChange:s,children:(0,a.jsxs)(x,{className:"bg-white dark:bg-slate-900 border-2 shadow-xl",style:{background:"rgb(var(--toast-bg, 255 255 255))",color:"rgb(var(--toast-text, 15 23 42))",borderColor:"rgb(var(--toast-border, 226 232 240))"},"aria-describedby":"confirm-dialog-description",children:[(0,a.jsxs)(m,{children:[a.jsx(u,{className:"text-lg font-semibold",children:r}),a.jsx(p,{id:"confirm-dialog-description",className:"text-base",children:l})]}),(0,a.jsxs)(h,{children:[a.jsx(j,{asChild:!0,children:a.jsx(d.z,{variant:"outline",className:"border-2",children:"取消"})}),a.jsx(g,{asChild:!0,children:a.jsx(d.z,{onClick:t,className:"font-semibold",style:{background:"rgb(var(--toast-bg, 147 51 234))",color:"rgb(var(--toast-text, 255 255 255))"},children:"確認"})})]})]})})}j.displayName=l.$j.displayName},41156:(e,s,t)=>{"use strict";t.d(s,{RM:()=>d,SC:()=>n,iA:()=>l,pj:()=>o,ss:()=>c,xD:()=>i});var a=t(10326);t(17577);var r=t(51223);function l({className:e,...s}){return a.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:a.jsx("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})}function i({className:e,...s}){return a.jsx("thead",{"data-slot":"table-header",className:(0,r.cn)("",e),...s})}function d({className:e,...s}){return a.jsx("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})}function n({className:e,...s}){return a.jsx("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",e),...s})}function c({className:e,...s}){return a.jsx("th",{"data-slot":"table-head",className:(0,r.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function o({className:e,...s}){return a.jsx("td",{"data-slot":"table-cell",className:(0,r.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}},60055:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`D:\APP\deer-lab\src\app\dashboard\suppliers\page.tsx#default`)},80440:(e,s,t)=>{"use strict";t.d(s,{$j:()=>V,Dx:()=>O,VY:()=>$,aU:()=>M,aV:()=>R,dk:()=>E,fC:()=>S,h_:()=>z,xz:()=>_});var a=t(17577),r=t(93095),l=t(48051),i=t(98958),d=t(82561),n=t(34214),c=t(10326),o="AlertDialog",[x,m]=(0,r.b)(o,[i.p8]),h=(0,i.p8)(),u=e=>{let{__scopeAlertDialog:s,...t}=e,a=h(s);return(0,c.jsx)(i.fC,{...a,...t,modal:!0})};u.displayName=o;var p=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,r=h(t);return(0,c.jsx)(i.xz,{...r,...a,ref:s})});p.displayName="AlertDialogTrigger";var g=e=>{let{__scopeAlertDialog:s,...t}=e,a=h(s);return(0,c.jsx)(i.h_,{...a,...t})};g.displayName="AlertDialogPortal";var j=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,r=h(t);return(0,c.jsx)(i.aV,{...r,...a,ref:s})});j.displayName="AlertDialogOverlay";var b="AlertDialogContent",[f,N]=x(b),y=(0,n.sA)("AlertDialogContent"),v=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,children:r,...n}=e,o=h(t),x=a.useRef(null),m=(0,l.e)(s,x),u=a.useRef(null);return(0,c.jsx)(i.jm,{contentName:b,titleName:w,docsSlug:"alert-dialog",children:(0,c.jsx)(f,{scope:t,cancelRef:u,children:(0,c.jsxs)(i.VY,{role:"alertdialog",...o,...n,ref:m,onOpenAutoFocus:(0,d.Mj)(n.onOpenAutoFocus,e=>{e.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,c.jsx)(y,{children:r}),(0,c.jsx)(q,{contentRef:x})]})})})});v.displayName=b;var w="AlertDialogTitle",k=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,r=h(t);return(0,c.jsx)(i.Dx,{...r,...a,ref:s})});k.displayName=w;var C="AlertDialogDescription",P=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,r=h(t);return(0,c.jsx)(i.dk,{...r,...a,ref:s})});P.displayName=C;var Z=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,r=h(t);return(0,c.jsx)(i.x8,{...r,...a,ref:s})});Z.displayName="AlertDialogAction";var A="AlertDialogCancel",D=a.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...a}=e,{cancelRef:r}=N(A,t),d=h(t),n=(0,l.e)(s,r);return(0,c.jsx)(i.x8,{...d,...a,ref:n})});D.displayName=A;var q=({contentRef:e})=>{let s=`\`${b}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${b}\` by passing a \`${C}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${b}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return a.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},S=u,_=p,z=g,R=j,$=v,M=Z,V=D,O=k,E=P}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[8948,9654,5540,8693,692,9516,4108,4334,6973],()=>t(98083));module.exports=a})();
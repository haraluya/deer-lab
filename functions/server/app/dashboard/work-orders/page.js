(()=>{var e={};e.id=5817,e.ids=[5817],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},15412:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>h,tree:()=>n}),r(67281),r(22834),r(62510),r(35866);var s=r(23191),a=r(88716),l=r(37922),o=r.n(l),d=r(95231),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);r.d(t,i);let n=["",{children:["dashboard",{children:["work-orders",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,67281)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\work-orders\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,22834)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62510)),"D:\\APP\\deer-lab\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\APP\\deer-lab\\src\\app\\dashboard\\work-orders\\page.tsx"],x="/dashboard/work-orders/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/dashboard/work-orders/page",pathname:"/dashboard/work-orders",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:n}})},62163:(e,t,r)=>{Promise.resolve().then(r.bind(r,61839))},41291:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},88307:(e,t,r)=>{"use strict";r.d(t,{Z:()=>s});let s=(0,r(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},61839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>D});var s=r(10326),a=r(17577),l=r(35047),o=r(76),d=r(90445),i=r(85999),n=r(33741),c=r(86508),x=r(11798),m=r(41156),h=r(91664),u=r(48238),g=r(12714),p=r(11890),b=r(39183);function f({columns:e,data:t}){let r=(0,l.useRouter)(),[o,d]=(0,a.useState)([{id:"createdAt",desc:!0}]),[i,n]=(0,a.useState)([]),f=(0,c.b7)({data:t,columns:e,getCoreRowModel:(0,x.sC)(),getPaginationRowModel:(0,x.G_)(),onSortingChange:d,getSortedRowModel:(0,x.tj)(),onColumnFiltersChange:n,getFilteredRowModel:(0,x.vL)(),state:{sorting:o,columnFilters:i}});return(0,s.jsxs)("div",{className:"space-y-6",children:[s.jsx("div",{className:"hidden lg:block",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 bg-gradient-to-r from-pink-100 to-purple-100 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(u.Z,{className:"h-4 w-4 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"工單清單"}),s.jsx("p",{className:"text-sm text-gray-600",children:"詳細的工單資訊與狀態"})]})]}),(0,s.jsxs)("div",{className:"text-sm text-gray-700 bg-white/80 px-3 py-1 rounded-full border border-gray-200",children:["共 ",f.getFilteredRowModel().rows.length," 個工單"]})]})}),s.jsx("div",{className:"overflow-x-auto",children:(0,s.jsxs)(m.iA,{className:"table-modern",children:[s.jsx(m.xD,{children:f.getHeaderGroups().map(e=>s.jsx(m.SC,{className:"bg-gradient-to-r from-gray-50 to-gray-100 hover:bg-gray-50/80",children:e.headers.map(e=>s.jsx(m.ss,{className:"font-semibold text-gray-700 py-4 px-6",children:e.isPlaceholder?null:(0,c.ie)(e.column.columnDef.header,e.getContext())},e.id))},e.id))}),s.jsx(m.RM,{children:f.getRowModel().rows?.length?f.getRowModel().rows.map((e,t)=>s.jsx(m.SC,{"data-state":e.getIsSelected()&&"selected",onClick:()=>r.push(`/dashboard/work-orders/${e.original.id}`),className:"cursor-pointer hover:bg-gray-50/50 transition-all duration-200 border-b border-gray-100 group",children:e.getVisibleCells().map(e=>s.jsx(m.pj,{className:"py-4 px-6",children:(0,c.ie)(e.column.columnDef.cell,e.getContext())},e.id))},e.id)):s.jsx(m.SC,{children:s.jsx(m.pj,{colSpan:e.length,className:"h-64 text-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center space-y-4",children:[s.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-slate-100 to-blue-100 rounded-full flex items-center justify-center",children:s.jsx(u.Z,{className:"h-10 w-10 text-slate-400"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-xl font-semibold text-slate-800 mb-2",children:"沒有工單資料"}),s.jsx("p",{className:"text-slate-600 mb-4",children:"開始建立第一個工單來管理生產流程"}),s.jsx(h.z,{onClick:()=>r.push("/dashboard/work-orders/create"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"建立新工單"})]})]})})})})]})})]})}),s.jsx("div",{className:"lg:hidden",children:(0,s.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-200 overflow-hidden",children:[s.jsx("div",{className:"px-4 py-3 bg-gradient-to-r from-pink-100 to-purple-100 border-b border-gray-200",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-6 h-6 bg-gradient-to-br from-pink-400 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(u.Z,{className:"h-3 w-3 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("h3",{className:"text-base font-semibold text-gray-800",children:"工單清單"}),s.jsx("p",{className:"text-xs text-gray-600",children:"手機版檢視"})]})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-700 bg-white/80 px-2 py-1 rounded-full border border-gray-200",children:[f.getFilteredRowModel().rows.length," 個"]})]})}),s.jsx("div",{className:"p-4",children:f.getRowModel().rows?.length?s.jsx("div",{className:"space-y-3",children:f.getRowModel().rows.map(e=>{let t=e.original;return(0,s.jsxs)("div",{onClick:()=>r.push(`/dashboard/work-orders/${t.id}`),className:"bg-white border border-gray-200 rounded-xl p-4 cursor-pointer hover:bg-gray-50/50 transition-all duration-200 shadow-sm hover:shadow-md group",children:[(0,s.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-pink-400 to-purple-500 rounded-lg flex items-center justify-center",children:s.jsx(u.Z,{className:"h-4 w-4 text-white"})}),(0,s.jsxs)("div",{children:[s.jsx("div",{className:"font-semibold text-slate-800 text-sm",children:t.code}),(0,s.jsxs)("div",{className:"text-xs text-slate-500",children:["建立於 ",t.createdAt]})]})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(h.z,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 opacity-0 group-hover:opacity-100 transition-opacity",onClick:e=>{e.stopPropagation(),r.push(`/dashboard/work-orders/${t.id}`)},children:s.jsx(g.Z,{className:"h-4 w-4"})})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"產品"}),s.jsx("div",{className:"font-medium text-slate-800 truncate",children:t.productName})]}),(0,s.jsxs)("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"目標數量"}),(0,s.jsxs)("div",{className:"font-semibold text-blue-600",children:[t.targetQuantity," g"]})]}),(0,s.jsxs)("div",{className:"col-span-2 space-y-1",children:[s.jsx("div",{className:"text-xs font-medium text-slate-500 uppercase tracking-wide",children:"狀態"}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium ${"預報"===t.status?"bg-orange-100 text-orange-800 border border-orange-200":"進行"===t.status?"bg-blue-100 text-blue-800 border border-blue-200":"完工"===t.status?"bg-green-100 text-green-800 border border-green-200":"入庫"===t.status?"bg-purple-100 text-purple-800 border border-purple-200":"bg-slate-100 text-slate-800 border border-slate-200"}`,children:t.status})})]})]})]},e.id)})}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[s.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-blue-100 rounded-full flex items-center justify-center mb-4",children:s.jsx(u.Z,{className:"h-8 w-8 text-slate-400"})}),s.jsx("h3",{className:"text-lg font-semibold text-slate-800 mb-2",children:"沒有工單資料"}),s.jsx("p",{className:"text-sm text-slate-600 text-center mb-4",children:"開始建立第一個工單來管理生產流程"}),s.jsx(h.z,{onClick:()=>r.push("/dashboard/work-orders/create"),className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:"建立新工單"})]})})]})}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 py-6",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-700 bg-gray-50 px-4 py-2 rounded-lg border border-gray-200",children:["顯示第 ",f.getState().pagination.pageIndex*f.getState().pagination.pageSize+1," 到"," ",Math.min((f.getState().pagination.pageIndex+1)*f.getState().pagination.pageSize,f.getFilteredRowModel().rows.length)," ","筆，共 ",f.getFilteredRowModel().rows.length," 筆資料"]}),(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>f.previousPage(),disabled:!f.getCanPreviousPage(),className:"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:[s.jsx(p.Z,{className:"h-4 w-4 mr-1"}),"上一頁"]}),(0,s.jsxs)(h.z,{variant:"outline",size:"sm",onClick:()=>f.nextPage(),disabled:!f.getCanNextPage(),className:"border-gray-300 text-gray-700 hover:bg-gray-50 hover:border-gray-400 transition-all duration-200",children:["下一頁",s.jsx(b.Z,{className:"h-4 w-4 ml-1"})]})]})]})]})}var j=r(12969),v=r(38443);let N=({status:e})=>{let t=(e=>{switch(e){case"預報":return{className:"bg-gradient-to-r from-orange-200 to-orange-300 text-orange-800 border border-orange-200 shadow-sm",icon:"⏳"};case"進行":return{className:"bg-gradient-to-r from-green-200 to-green-300 text-green-800 border border-green-200 shadow-sm",icon:"\uD83D\uDD04"};case"完工":return{className:"bg-gradient-to-r from-emerald-200 to-emerald-300 text-emerald-800 border border-emerald-200 shadow-sm",icon:"✅"};case"入庫":return{className:"bg-gradient-to-r from-purple-200 to-purple-300 text-purple-800 border border-purple-200 shadow-sm",icon:"\uD83D\uDCE6"};default:return{className:"bg-gradient-to-r from-gray-200 to-gray-300 text-gray-800 border border-gray-200 shadow-sm",icon:"❓"}}})(e);return(0,s.jsxs)(v.C,{className:`${t.className} font-semibold px-3 py-1.5 rounded-full text-sm transition-all duration-200 hover:scale-105`,children:[s.jsx("span",{className:"mr-1.5",children:t.icon}),e]})},w=[{accessorKey:"code",header:({column:e})=>(0,s.jsxs)(h.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),className:"font-semibold text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",children:["工單號碼",s.jsx(j.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>s.jsx("div",{className:"font-mono font-semibold text-gray-700 bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-200",children:e.getValue("code")})},{accessorKey:"seriesName",header:()=>s.jsx("div",{className:"font-semibold text-gray-700",children:"產品系列"}),cell:({row:e})=>s.jsx("div",{className:"text-blue-600 font-semibold",children:e.getValue("seriesName")})},{accessorKey:"productName",header:()=>s.jsx("div",{className:"font-semibold text-gray-700",children:"產品名稱"}),cell:({row:e})=>s.jsx("div",{className:"text-gray-800 max-w-xs truncate",title:e.getValue("productName"),children:e.getValue("productName")})},{accessorKey:"targetQuantity",header:()=>s.jsx("div",{className:"text-right font-semibold text-gray-700",children:"目標產量"}),cell:({row:e})=>{let t=parseFloat(e.getValue("targetQuantity"));return(0,s.jsxs)("div",{className:"text-right",children:[s.jsx("div",{className:"font-bold text-gray-700 text-lg",children:t}),s.jsx("div",{className:"text-xs text-gray-500",children:"公斤 (KG)"})]})}},{accessorKey:"status",header:()=>s.jsx("div",{className:"font-semibold text-gray-700",children:"狀態"}),cell:({row:e})=>s.jsx(N,{status:e.getValue("status")})},{accessorKey:"createdAt",header:({column:e})=>(0,s.jsxs)(h.z,{variant:"ghost",onClick:()=>e.toggleSorting("asc"===e.getIsSorted()),className:"font-semibold text-gray-700 hover:text-gray-900 hover:bg-gray-50 transition-all duration-200",children:["建立日期",s.jsx(j.Z,{className:"ml-2 h-4 w-4"})]}),cell:({row:e})=>s.jsx("div",{className:"text-gray-600",children:e.getValue("createdAt")})}];var y=r(29752),k=r(83855),P=r(59323),C=r(41291),S=r(48998),Z=r(30361),q=r(48705),z=r(41137),A=r(88307);function M(){let e=(0,l.useRouter)(),[t,r]=(0,a.useState)([]),[c,x]=(0,a.useState)([]),[m,u]=(0,a.useState)(!0),[g,p]=(0,a.useState)(!1),[b,j]=(0,a.useState)(!0),[v,N]=(0,a.useState)(null),[M,D]=(0,a.useState)("all"),_=(0,a.useCallback)(async(e=!1)=>{e?(u(!0),r([]),N(null),j(!0)):p(!0);try{if(!d.db)throw Error("Firebase 未初始化");let t=(0,o.query)((0,o.collection)(d.db,"workOrders"),(0,o.Xo)("createdAt","desc"),(0,o.b9)(20));!e&&v&&(t=(0,o.query)((0,o.collection)(d.db,"workOrders"),(0,o.Xo)("createdAt","desc"),(0,o.TQ)(v),(0,o.b9)(20)));let s=await (0,o.getDocs)(t),a=s.docs.map(e=>{let t=e.data();return{id:e.id,code:t.code||"",productName:t.productSnapshot?.name||"未知產品",seriesName:t.productSnapshot?.seriesName||"未指定",targetQuantity:t.targetQuantity||0,status:t.status||"預報",createdAt:t.createdAt?.toDate?.()?.toLocaleDateString()||"未知日期"}});e?r(a):r(e=>[...e,...a]);let l=s.docs[s.docs.length-1];N(l||null),j(20===s.docs.length)}catch(e){(0,n.vU)("讀取工單資料失敗",e),i.Am.error("讀取工單資料失敗")}finally{u(!1),p(!1)}},[v]),R=(0,a.useMemo)(()=>{let e=t.length,r=t.filter(e=>"預報"===e.status).length;return{total:e,forecast:r,inProgress:t.filter(e=>"進行"===e.status).length,completed:t.filter(e=>"完工"===e.status).length,warehoused:t.filter(e=>"入庫"===e.status).length}},[t]);return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-purple-50 to-pink-50",children:(0,s.jsxs)("div",{className:"container mx-auto p-4 sm:p-6 lg:p-8",children:[(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4 mb-6",children:[(0,s.jsxs)("div",{children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent",children:"工單管理中心"}),s.jsx("p",{className:"text-gray-600 mt-2 text-lg font-medium",children:"專業的生產工單管理與進度追蹤系統"})]}),(0,s.jsxs)(h.z,{onClick:()=>{e.push("/dashboard/work-orders/create")},className:"bg-gradient-to-r from-pink-400 to-purple-500 hover:from-pink-500 hover:to-purple-600 text-white shadow-lg hover:shadow-xl transition-all duration-300 h-12 px-6 text-base font-semibold",children:[s.jsx(k.Z,{className:"mr-2 h-5 w-5"}),"建立新工單"]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-4 mb-8",children:[s.jsx(y.Zb,{className:"bg-gradient-to-br from-blue-200 to-blue-300 border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(y.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-blue-700",children:"總工單數"}),s.jsx("p",{className:"text-2xl font-bold text-blue-800",children:R.total})]}),s.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:s.jsx(P.Z,{className:"h-5 w-5 text-blue-600"})})]})})}),s.jsx(y.Zb,{className:"bg-gradient-to-br from-orange-200 to-orange-300 border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(y.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-orange-700",children:"預報中"}),s.jsx("p",{className:"text-2xl font-bold text-orange-800",children:R.forecast})]}),s.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:s.jsx(C.Z,{className:"h-5 w-5 text-orange-600"})})]})})}),s.jsx(y.Zb,{className:"bg-gradient-to-br from-green-200 to-green-300 border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(y.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-green-700",children:"進行中"}),s.jsx("p",{className:"text-2xl font-bold text-green-800",children:R.inProgress})]}),s.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-lg flex items-center justify-center",children:s.jsx(S.Z,{className:"h-5 w-5 text-green-600"})})]})})}),s.jsx(y.Zb,{className:"bg-gradient-to-br from-emerald-200 to-emerald-300 border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:s.jsx(y.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-emerald-700",children:"已完工"}),s.jsx("p",{className:"text-2xl font-bold text-emerald-800",children:R.completed})]}),s.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-lg flex items-center justify-center",children:s.jsx(Z.Z,{className:"h-5 w-5 text-emerald-600"})})]})})}),s.jsx(y.Zb,{className:"bg-gradient-to-br from-purple-200 to-purple-300 border-0 shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 col-span-2 lg:col-span-1",children:s.jsx(y.aY,{className:"p-4",children:(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[s.jsx("p",{className:"text-sm font-medium text-purple-700",children:"已入庫"}),s.jsx("p",{className:"text-2xl font-bold text-purple-800",children:R.warehoused})]}),s.jsx("div",{className:"w-10 h-10 bg-purple-100 rounded-lg flex items-center justify-center",children:s.jsx(q.Z,{className:"h-5 w-5 text-purple-600"})})]})})})]})]}),(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4 mb-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(z.Z,{className:"h-4 w-4 text-gray-500"}),s.jsx("span",{className:"text-sm font-medium text-gray-700",children:"狀態篩選："})]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(h.z,{variant:"all"===M?"default":"outline",size:"sm",onClick:()=>D("all"),className:`font-medium transition-all duration-200 ${"all"===M?"bg-gradient-to-r from-blue-400 to-purple-500 hover:from-blue-500 hover:to-purple-600 text-white shadow-lg":"border-blue-200 text-blue-600 hover:bg-blue-50 hover:border-blue-300 bg-white"}`,children:["全部 (",R.total,")"]}),(0,s.jsxs)(h.z,{variant:"預報"===M?"default":"outline",size:"sm",onClick:()=>D("預報"),className:`font-medium transition-all duration-200 ${"預報"===M?"bg-gradient-to-r from-orange-400 to-red-400 hover:from-orange-500 hover:to-red-500 text-white shadow-lg":"border-orange-200 text-orange-600 hover:bg-orange-50 hover:border-orange-300 bg-white"}`,children:["預報 (",R.forecast,")"]}),(0,s.jsxs)(h.z,{variant:"進行"===M?"default":"outline",size:"sm",onClick:()=>D("進行"),className:`font-medium transition-all duration-200 ${"進行"===M?"bg-gradient-to-r from-green-400 to-emerald-500 hover:from-green-500 hover:to-emerald-600 text-white shadow-lg":"border-green-200 text-green-600 hover:bg-green-50 hover:border-green-300 bg-white"}`,children:["進行 (",R.inProgress,")"]}),(0,s.jsxs)(h.z,{variant:"完工"===M?"default":"outline",size:"sm",onClick:()=>D("完工"),className:`font-medium transition-all duration-200 ${"完工"===M?"bg-gradient-to-r from-emerald-400 to-teal-500 hover:from-emerald-500 hover:to-teal-600 text-white shadow-lg":"border-emerald-200 text-emerald-600 hover:bg-emerald-50 hover:border-emerald-300 bg-white"}`,children:["完工 (",R.completed,")"]}),(0,s.jsxs)(h.z,{variant:"入庫"===M?"default":"outline",size:"sm",onClick:()=>D("入庫"),className:`font-medium transition-all duration-200 ${"入庫"===M?"bg-gradient-to-r from-purple-400 to-pink-500 hover:from-purple-500 hover:to-pink-600 text-white shadow-lg":"border-purple-200 text-purple-600 hover:bg-purple-50 hover:border-purple-300 bg-white"}`,children:["入庫 (",R.warehoused,")"]})]})]}),"all"!==M&&s.jsx("div",{className:"bg-gradient-to-r from-pink-50 to-purple-50 border border-pink-200 rounded-lg p-3 mb-6",children:(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx(A.Z,{className:"h-4 w-4 text-pink-500"}),(0,s.jsxs)("span",{className:"text-sm text-pink-700 font-medium",children:["顯示 ",M," 狀態的工單，共 ",c.length," 個"]})]})})]}),m?s.jsx("div",{className:"flex items-center justify-center py-16",children:(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,s.jsxs)("div",{className:"relative",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-gray-200 rounded-full animate-spin"}),s.jsx("div",{className:"absolute top-0 left-0 w-16 h-16 border-4 border-transparent border-t-blue-500 rounded-full animate-spin"})]}),s.jsx("span",{className:"mt-6 text-gray-600 font-medium text-lg",children:"載入工單資料中..."}),s.jsx("p",{className:"text-gray-500 text-sm mt-2",children:"請稍候，正在從資料庫讀取資料"})]})}):(0,s.jsxs)("div",{className:"space-y-4",children:[s.jsx("div",{className:"overflow-hidden rounded-xl border border-gray-200",children:s.jsx(f,{columns:w,data:c})}),b&&s.jsx("div",{className:"flex justify-center",children:s.jsx(h.z,{onClick:()=>{!g&&b&&_(!1)},disabled:g,variant:"outline",className:"px-8 py-2",children:g?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600 mr-2"}),"載入中..."]}):"載入更多工單"})}),!b&&t.length>20&&(0,s.jsxs)("div",{className:"text-center text-gray-500 py-4",children:["已載入所有 ",t.length," 筆工單"]})]})]})})}function D(){return s.jsx(M,{})}},29752:(e,t,r)=>{"use strict";r.d(t,{Ol:()=>o,SZ:()=>i,Zb:()=>l,aY:()=>n,eW:()=>c,ll:()=>d});var s=r(10326);r(17577);var a=r(51223);function l({className:e,...t}){return s.jsx("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",e),...t})}function o({className:e,...t}){return s.jsx("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",e),...t})}function d({className:e,...t}){return s.jsx("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",e),...t})}function i({className:e,...t}){return s.jsx("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",e),...t})}function n({className:e,...t}){return s.jsx("div",{"data-slot":"card-content",className:(0,a.cn)("",e),...t})}function c({className:e,...t}){return s.jsx("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center",e),...t})}},41156:(e,t,r)=>{"use strict";r.d(t,{RM:()=>d,SC:()=>i,iA:()=>l,pj:()=>c,ss:()=>n,xD:()=>o});var s=r(10326);r(17577);var a=r(51223);function l({className:e,...t}){return s.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:s.jsx("table",{"data-slot":"table",className:(0,a.cn)("w-full caption-bottom text-sm",e),...t})})}function o({className:e,...t}){return s.jsx("thead",{"data-slot":"table-header",className:(0,a.cn)("",e),...t})}function d({className:e,...t}){return s.jsx("tbody",{"data-slot":"table-body",className:(0,a.cn)("[&_tr:last-child]:border-0",e),...t})}function i({className:e,...t}){return s.jsx("tr",{"data-slot":"table-row",className:(0,a.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",e),...t})}function n({className:e,...t}){return s.jsx("th",{"data-slot":"table-head",className:(0,a.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return s.jsx("td",{"data-slot":"table-cell",className:(0,a.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},67281:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(68570).createProxy)(String.raw`D:\APP\deer-lab\src\app\dashboard\work-orders\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[8948,9654,5540,8693,2796,4108,4334],()=>r(15412));module.exports=s})();
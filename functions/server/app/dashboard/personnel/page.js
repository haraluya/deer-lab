(()=>{var e={};e.id=2240,e.ids=[2240],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},84770:e=>{"use strict";e.exports=require("crypto")},80665:e=>{"use strict";e.exports=require("dns")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},32694:e=>{"use strict";e.exports=require("http2")},98216:e=>{"use strict";e.exports=require("net")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},35816:e=>{"use strict";e.exports=require("process")},76162:e=>{"use strict";e.exports=require("stream")},82452:e=>{"use strict";e.exports=require("tls")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},12650:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>u,tree:()=>o}),a(8616),a(22834),a(62510),a(35866);var t=a(23191),r=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let o=["",{children:["dashboard",{children:["personnel",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,8616)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\personnel\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(a.bind(a,22834)),"D:\\APP\\deer-lab\\src\\app\\dashboard\\layout.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,62510)),"D:\\APP\\deer-lab\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["D:\\APP\\deer-lab\\src\\app\\dashboard\\personnel\\page.tsx"],x="/dashboard/personnel/page",m={require:a,loadChunk:()=>Promise.resolve()},u=new t.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/personnel/page",pathname:"/dashboard/personnel",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},41304:(e,s,a)=>{Promise.resolve().then(a.bind(a,91772))},15919:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},12714:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},9015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},83855:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},88307:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},88378:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},58038:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},69508:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},98091:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},79635:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},24061:(e,s,a)=>{"use strict";a.d(s,{Z:()=>t});let t=(0,a(62881).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},91772:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>X});var t=a(10326),r=a(17577),l=a(76),i=a(78880),n=a(90445),d=a(74723),o=a(74064),c=a(770),x=a(74690),m=a(85999),u=a(79635),h=a(9015),p=a(91664),f=a(24118),g=a(9969),j=a(41190),b=a(29280);let N=c.Ry({name:c.Z_().min(2,{message:"姓名至少需要 2 個字元"}),employeeId:c.Z_().min(1,{message:"員工編號為必填欄位"}),phone:c.Z_().min(1,{message:"電話為必填欄位"}),role:c.Z_({required_error:"必須選擇一個角色"}),password:c.Z_().optional(),confirmPassword:c.Z_().optional(),status:c.Km(["active","inactive"])}).refine(e=>!e.password||!(e.password.length>0)||e.password===e.confirmPassword,{message:"密碼確認不匹配",path:["confirmPassword"]});function v({isOpen:e,onOpenChange:s,onPersonnelUpdate:a,personnelData:c}){let{appUser:v,isLoading:y}=(0,x.a)(),[w,k]=(0,r.useState)(!1),[Z,C]=(0,r.useState)([]),[D,z]=(0,r.useState)(!1),[P,A]=(0,r.useState)(!1),_=!!c,I=(0,d.cI)({resolver:(0,o.F)(N),defaultValues:{name:"",employeeId:"",phone:"",role:"",password:"",confirmPassword:"",status:"active"}});(0,r.useCallback)(async()=>{z(!0);try{if(!n.db)throw Error("Firebase 未初始化");let e=(0,l.collection)(n.db,"roles"),s=(await (0,l.getDocs)(e)).docs.map(e=>({id:e.id,name:e.data().name||"未知角色",description:e.data().description}));C(s),console.log("✅ 角色資料載入成功:",s)}catch(e){console.error("載入角色資料失敗:",e),m.Am.error("載入角色資料失敗，請重新整理頁面")}finally{z(!1)}},[]);let V=async e=>{if(!_&&(!e.password||e.password.length<6)){m.Am.error("新增人員時密碼為必填欄位，且至少需要 6 個字元");return}k(!0);let t=m.Am.loading(_?"正在更新人員資料...":"正在建立新人員...");try{let r=(0,i.$C)();if(console.log("\uD83D\uDD27 準備調用 Firebase Functions..."),console.log("\uD83D\uDCCB 提交資料:",e),console.log("\uD83C\uDFAD 模式:",_?"編輯":"新增"),_&&c){console.log("\uD83D\uDCDD 調用 updatePersonnel...");let s=(0,i.V1)(r,"updatePersonnel"),a={personnelId:c.id,name:e.name,employeeId:e.employeeId,phone:e.phone,roleId:e.role,password:e.password||"",status:e.status};console.log("\uD83D\uDCE4 更新資料:",a);let l=await s(a);console.log("✅ updatePersonnel 成功:",l.data),m.Am.success("人員資料更新成功",{id:t})}else{console.log("\uD83D\uDCDD 調用 createPersonnel...");let s=(0,i.V1)(r,"createPersonnel"),a={name:e.name,employeeId:e.employeeId,phone:e.phone,roleId:e.role,password:e.password,status:e.status};console.log("\uD83D\uDCE4 建立資料:",a);let l=await s(a);console.log("✅ createPersonnel 成功:",l.data),m.Am.success("人員建立成功",{id:t})}a(),s(!1)}catch(s){console.error("操作失敗:",s);let e="操作失敗，請稍後再試。";s?.code==="functions/unavailable"?e="服務暫時不可用，請稍後再試。":s?.code==="functions/permission-denied"?e="權限不足，無法執行此操作。":s?.code==="functions/unauthenticated"?e="請重新登入後再試。":s?.code==="functions/invalid-argument"?e="輸入資料有誤，請檢查後再試。":s?.code==="functions/not-found"?e="找不到指定的資料。":s?.code==="functions/already-exists"?e="資料已存在，請使用其他資料。":s?.code==="functions/resource-exhausted"?e="系統資源不足，請稍後再試。":s?.code==="functions/failed-precondition"?e="操作條件不滿足，請檢查資料後再試。":s?.code==="functions/aborted"?e="操作被中止，請稍後再試。":s?.code==="functions/out-of-range"?e="輸入資料超出範圍，請檢查後再試。":s?.code==="functions/unimplemented"?e="此功能尚未實作。":s?.code==="functions/internal"?e="系統內部錯誤，請稍後再試。":s?.code==="functions/data-loss"?e="資料遺失，請重新輸入。":s?.code==="functions/unknown"?e="發生未知錯誤，請稍後再試。":s?.message&&(e=s.message),m.Am.error(e,{id:t})}finally{k(!1)}};return y||D?t.jsx(f.Vq,{open:e,onOpenChange:s,children:t.jsx(f.cZ,{className:"max-w-2xl","aria-describedby":"loading-dialog-description",children:t.jsx("div",{className:"flex items-center justify-center py-8",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto mb-4"}),t.jsx("p",{id:"loading-dialog-description",className:"text-gray-600",children:"正在載入資料..."})]})})})}):t.jsx(f.Vq,{open:e,onOpenChange:s,children:(0,t.jsxs)(f.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto","aria-describedby":"personnel-dialog-description",children:[(0,t.jsxs)(f.fK,{children:[(0,t.jsxs)(f.$N,{className:"flex items-center gap-2",children:[t.jsx(u.Z,{className:"h-5 w-5"}),_?"編輯人員":"新增人員"]}),t.jsx(f.Be,{id:"personnel-dialog-description",children:_?"修改人員資料":"建立新的人員帳號"})]}),t.jsx(g.l0,{...I,children:(0,t.jsxs)("form",{onSubmit:I.handleSubmit(V),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg border border-blue-200",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-blue-800",children:[t.jsx(u.Z,{className:"h-4 w-4"}),"基本資料"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(g.Wi,{control:I.control,name:"name",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[t.jsx(g.lX,{children:"姓名 *"}),t.jsx(g.NI,{children:t.jsx(j.I,{placeholder:"請輸入姓名",...e})}),t.jsx(g.zG,{})]})}),t.jsx(g.Wi,{control:I.control,name:"employeeId",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[t.jsx(g.lX,{children:"員工編號 *"}),t.jsx(g.NI,{children:t.jsx(j.I,{placeholder:"請輸入員工編號",...e})}),t.jsx(g.zG,{})]})}),t.jsx(g.Wi,{control:I.control,name:"phone",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[t.jsx(g.lX,{className:"text-red-600 font-semibold",children:"電話 *"}),t.jsx(g.NI,{children:t.jsx(j.I,{placeholder:"請輸入電話號碼",...e,className:"border-blue-300 focus:border-blue-500 focus:ring-blue-500"})}),t.jsx(g.zG,{})]})}),t.jsx(g.Wi,{control:I.control,name:"role",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[t.jsx(g.lX,{children:"角色 *"}),(0,t.jsxs)(b.Ph,{onValueChange:e.onChange,value:e.value,disabled:D,children:[t.jsx(g.NI,{children:t.jsx(b.i4,{children:t.jsx(b.ki,{placeholder:D?"載入中...":"選擇角色"})})}),t.jsx(b.Bw,{children:Z.map(e=>t.jsx(b.Ql,{value:e.id,children:e.name},e.id))})]}),t.jsx(g.zG,{})]})}),t.jsx(g.Wi,{control:I.control,name:"status",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[t.jsx(g.lX,{children:"狀態"}),(0,t.jsxs)(b.Ph,{onValueChange:e.onChange,value:e.value,children:[t.jsx(g.NI,{children:t.jsx(b.i4,{children:t.jsx(b.ki,{placeholder:"選擇狀態"})})}),(0,t.jsxs)(b.Bw,{children:[t.jsx(b.Ql,{value:"active",children:"啟用"}),t.jsx(b.Ql,{value:"inactive",children:"停用"})]})]}),t.jsx(g.zG,{})]})})]})]}),(0,t.jsxs)("div",{className:"space-y-4 p-4 bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg border border-green-200",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h3",{className:"text-lg font-semibold flex items-center gap-2 text-green-800",children:[t.jsx(h.Z,{className:"h-4 w-4"}),"密碼設定"]}),_&&t.jsx(p.z,{type:"button",variant:"outline",size:"sm",onClick:()=>A(!P),children:P?"隱藏密碼欄位":"修改密碼"})]}),(!_||P)&&(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(g.Wi,{control:I.control,name:"password",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[(0,t.jsxs)(g.lX,{children:["密碼 ",_?"":"*"]}),t.jsx(g.NI,{children:t.jsx(j.I,{type:"password",placeholder:_?"留空表示不修改":"請輸入密碼",...e})}),t.jsx(g.zG,{})]})}),t.jsx(g.Wi,{control:I.control,name:"confirmPassword",render:({field:e})=>(0,t.jsxs)(g.xJ,{children:[(0,t.jsxs)(g.lX,{children:["確認密碼 ",_?"":"*"]}),t.jsx(g.NI,{children:t.jsx(j.I,{type:"password",placeholder:"請再次輸入密碼",...e})}),t.jsx(g.zG,{})]})})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-2",children:[t.jsx(p.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"取消"}),t.jsx(p.z,{type:"submit",disabled:w,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white",children:w?"處理中...":_?"更新":"新增"})]})]})})]})})}var y=a(13898),w=a(88378),k=a(83855),Z=a(24061),C=a(59819);let D=(0,a(62881).Z)("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var z=a(58038),P=a(41137),A=a(88307),_=a(15919),I=a(12714),V=a(69508),q=a(98091),S=a(21765),R=a(90434),$=a(41156),O=a(38443),M=a(29752),F=a(10143);function G(){let[e,s]=(0,r.useState)([]),[a,d]=(0,r.useState)([]),[o,c]=(0,r.useState)(!0),[x,h]=(0,r.useState)(""),[g,N]=(0,r.useState)("all"),[G,X]=(0,r.useState)("all"),{isAdmin:Y}=(0,S.g)(),[E,Q]=(0,r.useState)(!1),[J,U]=(0,r.useState)(!1),[W,B]=(0,r.useState)(!1),[H,T]=(0,r.useState)(null),[K,L]=(0,r.useState)(!1),[ee,es]=(0,r.useState)(null),[ea,et]=(0,r.useState)("add"),er=(0,r.useCallback)(async()=>{c(!0);try{if(!n.db)throw Error("Firebase 未初始化");let e=(0,l.collection)(n.db,"users"),a=await (0,l.getDocs)(e),t=await Promise.all(a.docs.map(async e=>{let s=e.data(),a=e.id,t="未設定",r=s.roleRef;if(r&&r instanceof l.my)try{let e=await (0,l.QT)(r);e.exists()&&(t=e.data()?.name||"未知角色")}catch(e){console.error(`無法讀取角色資料 for user ${a}:`,e),t="讀取失敗"}return{...s,id:a,uid:a,roleName:t}}));s(t),d(t)}catch(e){console.error("讀取人員資料失敗:",e),m.Am.error("讀取人員資料失敗，請檢查網路連線或聯絡管理員。")}finally{c(!1)}},[]),el={total:e.length,active:e.filter(e=>"active"===e.status).length,inactive:e.filter(e=>"inactive"===e.status).length,roles:[...new Set(e.map(e=>e.roleName))].length},ei=e=>{et("edit"),es(e),Q(!0)},en=e=>{es(e),U(!0)},ed=e=>{es(e),B(!0)},eo=e=>{T(e),L(!0)},ec=async()=>{if(!ee)return;let e="active"===ee.status?"inactive":"active",s=m.Am.loading("正在更新狀態...");try{let a=(0,i.$C)(),t=(0,i.V1)(a,"setUserStatus");await t({uid:ee.uid,status:e}),m.Am.success("員工狀態已成功更新。",{id:s}),er()}catch(a){console.error("變更狀態失敗:",a);let e="變更狀態時發生錯誤。";a instanceof Error&&(e=a.message),m.Am.error(e,{id:s})}finally{U(!1),es(null)}},ex=[...new Set(e.map(e=>e.roleName).filter(e=>"未設定"!==e))],em=async()=>{if(!ee)return;let e=m.Am.loading("正在刪除員工...");try{let s=(0,i.$C)(),a=(0,i.V1)(s,"deletePersonnel");await a({personnelId:ee.uid}),m.Am.success("員工已成功刪除。",{id:e}),er()}catch(a){console.error("刪除員工失敗:",a);let s="刪除員工時發生錯誤。";a instanceof Error&&(s=a.message),m.Am.error(s,{id:e})}finally{B(!1),es(null)}};return(0,t.jsxs)("div",{className:"container mx-auto py-6",children:[(0,t.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-4 mb-8",children:[(0,t.jsxs)("div",{children:[t.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent",children:"成員管理"}),t.jsx("p",{className:"text-gray-600 mt-2 text-lg",children:"管理團隊成員資訊與權限設定"})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[Y()&&t.jsx(R.default,{href:"/dashboard/personnel/permissions",children:(0,t.jsxs)(p.z,{variant:"outline",className:"gap-2 border-purple-200 text-purple-600 hover:bg-purple-50 hover:border-purple-300 shadow-sm hover:shadow-md transition-all duration-200",size:"lg",children:[t.jsx(w.Z,{className:"h-5 w-5"}),"權限管理"]})}),(0,t.jsxs)(p.z,{onClick:()=>{et("add"),es(null),Q(!0)},className:"gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 shadow-lg hover:shadow-xl transition-all duration-200",size:"lg",children:[t.jsx(k.Z,{className:"h-5 w-5"}),"新增成員"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(M.Zb,{className:"relative overflow-hidden bg-gradient-to-br from-blue-50 to-indigo-100 border-2 border-blue-200 hover:shadow-lg transition-all duration-300",children:[t.jsx(M.Ol,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(M.ll,{className:"text-sm font-bold text-blue-800",children:"總成員"}),t.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:t.jsx(Z.Z,{className:"h-4 w-4 text-white"})})]})}),t.jsx(M.aY,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-bold text-blue-900",children:el.total}),t.jsx("p",{className:"text-xs text-blue-600 font-medium",children:"位團隊成員"})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-blue-600/10 pointer-events-none"})]}),(0,t.jsxs)(M.Zb,{className:"relative overflow-hidden bg-gradient-to-br from-green-50 to-emerald-100 border-2 border-green-200 hover:shadow-lg transition-all duration-300",children:[t.jsx(M.Ol,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(M.ll,{className:"text-sm font-bold text-green-800",children:"活躍成員"}),t.jsx("div",{className:"p-2 bg-green-500 rounded-lg",children:t.jsx(C.Z,{className:"h-4 w-4 text-white"})})]})}),t.jsx(M.aY,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-bold text-green-900",children:el.active}),t.jsx("p",{className:"text-xs text-green-600 font-medium",children:"位在職成員"})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-green-600/10 pointer-events-none"})]}),(0,t.jsxs)(M.Zb,{className:"relative overflow-hidden bg-gradient-to-br from-red-50 to-pink-100 border-2 border-red-200 hover:shadow-lg transition-all duration-300",children:[t.jsx(M.Ol,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(M.ll,{className:"text-sm font-bold text-red-800",children:"停用帳號"}),t.jsx("div",{className:"p-2 bg-red-500 rounded-lg",children:t.jsx(D,{className:"h-4 w-4 text-white"})})]})}),t.jsx(M.aY,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-bold text-red-900",children:el.inactive}),t.jsx("p",{className:"text-xs text-red-600 font-medium",children:"位停用帳號"})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-red-600/10 pointer-events-none"})]}),(0,t.jsxs)(M.Zb,{className:"relative overflow-hidden bg-gradient-to-br from-purple-50 to-violet-100 border-2 border-purple-200 hover:shadow-lg transition-all duration-300",children:[t.jsx(M.Ol,{className:"pb-2",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx(M.ll,{className:"text-sm font-bold text-purple-800",children:"角色類型"}),t.jsx("div",{className:"p-2 bg-purple-500 rounded-lg",children:t.jsx(z.Z,{className:"h-4 w-4 text-white"})})]})}),t.jsx(M.aY,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[t.jsx("div",{className:"text-3xl font-bold text-purple-900",children:el.roles}),t.jsx("p",{className:"text-xs text-purple-600 font-medium",children:"種權限角色"})]})}),t.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-transparent to-purple-600/10 pointer-events-none"})]})]}),(0,t.jsxs)(M.Zb,{className:"mb-6",children:[t.jsx(M.Ol,{children:(0,t.jsxs)(M.ll,{className:"flex items-center gap-2",children:[t.jsx(P.Z,{className:"h-5 w-5"}),"搜尋與篩選"]})}),(0,t.jsxs)(M.aY,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"搜尋成員"}),(0,t.jsxs)("div",{className:"relative",children:[t.jsx(j.I,{placeholder:"姓名、工號、電話...",value:x,onChange:e=>h(e.target.value),className:"pl-10 bg-white border-2 border-gray-200 focus:border-blue-500"}),t.jsx(A.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"帳號狀態"}),(0,t.jsxs)(b.Ph,{value:g,onValueChange:N,children:[t.jsx(b.i4,{className:"bg-white border-2 border-gray-200 focus:border-blue-500",children:t.jsx(b.ki,{})}),(0,t.jsxs)(b.Bw,{children:[t.jsx(b.Ql,{value:"all",children:"全部狀態"}),t.jsx(b.Ql,{value:"active",children:"活躍"}),t.jsx(b.Ql,{value:"inactive",children:"停用"})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-medium text-gray-700",children:"角色權限"}),(0,t.jsxs)(b.Ph,{value:G,onValueChange:X,children:[t.jsx(b.i4,{className:"bg-white border-2 border-gray-200 focus:border-blue-500",children:t.jsx(b.ki,{})}),(0,t.jsxs)(b.Bw,{children:[t.jsx(b.Ql,{value:"all",children:"全部角色"}),ex.map(e=>t.jsx(b.Ql,{value:e,children:e},e))]})]})]})]}),(x||"all"!==g||"all"!==G)&&(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-between",children:[(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["顯示 ",a.length," 位成員，共 ",e.length," 位"]}),t.jsx(p.z,{variant:"ghost",size:"sm",onClick:()=>{h(""),N("all"),X("all")},className:"text-gray-500 hover:text-gray-700",children:"清除篩選"})]})]})]}),(0,t.jsxs)(M.Zb,{children:[t.jsx(M.Ol,{children:(0,t.jsxs)(M.ll,{className:"flex items-center gap-2",children:[t.jsx(Z.Z,{className:"h-5 w-5"}),"成員列表"]})}),t.jsx(M.aY,{children:o?(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsxs)("div",{className:"relative",children:[t.jsx("div",{className:"w-10 h-10 border-4 border-blue-200 rounded-full animate-spin"}),t.jsx("div",{className:"absolute top-0 left-0 w-10 h-10 border-4 border-transparent border-t-blue-600 rounded-full animate-spin"})]}),t.jsx("span",{className:"mt-3 text-sm text-gray-600 font-medium",children:"載入中..."})]}):0===a.length?(0,t.jsxs)("div",{className:"text-center py-12",children:[t.jsx(Z.Z,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),t.jsx("p",{className:"text-gray-500",children:x||"all"!==g||"all"!==G?"找不到符合條件的成員":"尚無成員資料"})]}):(0,t.jsxs)(t.Fragment,{children:[t.jsx("div",{className:"hidden md:block overflow-x-auto",children:(0,t.jsxs)($.iA,{children:[t.jsx($.xD,{children:(0,t.jsxs)($.SC,{className:"bg-gray-50",children:[t.jsx($.ss,{className:"font-semibold text-gray-700",children:"成員資訊"}),t.jsx($.ss,{className:"font-semibold text-gray-700",children:"工號"}),t.jsx($.ss,{className:"font-semibold text-gray-700",children:"角色"}),t.jsx($.ss,{className:"font-semibold text-gray-700",children:"狀態"}),t.jsx($.ss,{className:"font-semibold text-gray-700",children:"聯絡方式"}),t.jsx($.ss,{className:"text-right font-semibold text-gray-700",children:"操作"})]})}),t.jsx($.RM,{children:a.map(e=>(0,t.jsxs)($.SC,{className:"hover:bg-blue-50/50 transition-colors",children:[t.jsx($.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-semibold text-gray-900",children:e.name}),t.jsx("div",{className:"text-sm text-gray-500",children:"系統用戶"})]})]})}),t.jsx($.pj,{children:t.jsx(O.C,{variant:"outline",className:"bg-gray-50",children:e.employeeId})}),t.jsx($.pj,{children:t.jsx(O.C,{variant:"outline",className:`${"管理員"===e.roleName?"bg-purple-50 text-purple-700 border-purple-200":"主管"===e.roleName?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:e.roleName})}),t.jsx($.pj,{children:t.jsx(O.C,{variant:"active"===e.status?"default":"destructive",className:"active"===e.status?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",children:"active"===e.status?"活躍":"停用"})}),t.jsx($.pj,{children:t.jsx("div",{className:"text-sm text-gray-600",children:e.phone||"未設定"})}),t.jsx($.pj,{className:"text-right",children:(0,t.jsxs)(F.h_,{children:[t.jsx(F.$F,{asChild:!0,children:(0,t.jsxs)(p.z,{variant:"ghost",className:"h-8 w-8 p-0 hover:bg-gray-100",children:[t.jsx("span",{className:"sr-only",children:"開啟選單"}),t.jsx(_.Z,{className:"h-4 w-4"})]})}),(0,t.jsxs)(F.AW,{align:"end",className:"w-48",children:[t.jsx(F.Ju,{children:"操作選單"}),t.jsx(F.VD,{}),(0,t.jsxs)(F.Xi,{onClick:()=>eo(e),className:"gap-2",children:[t.jsx(I.Z,{className:"h-4 w-4"}),"查看詳情"]}),(0,t.jsxs)(F.Xi,{onClick:()=>ei(e),className:"gap-2",children:[t.jsx(V.Z,{className:"h-4 w-4"}),"編輯資訊"]}),(0,t.jsxs)(F.Xi,{onClick:()=>en(e),className:"gap-2",children:["active"===e.status?t.jsx(D,{className:"h-4 w-4"}):t.jsx(C.Z,{className:"h-4 w-4"}),"active"===e.status?"停用帳號":"啟用帳號"]}),t.jsx(F.VD,{}),(0,t.jsxs)(F.Xi,{onClick:()=>ed(e),className:"gap-2 text-red-600 focus:text-red-600 focus:bg-red-50",children:[t.jsx(q.Z,{className:"h-4 w-4"}),"刪除成員"]})]})]})})]},e.uid))})]})}),t.jsx("div",{className:"md:hidden space-y-3",children:a.map(e=>t.jsx(M.Zb,{className:"overflow-hidden hover:shadow-md transition-shadow",children:(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-full flex items-center justify-center text-white font-bold",children:e.name.charAt(0).toUpperCase()}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"font-semibold text-gray-900",children:e.name}),(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["工號: ",e.employeeId]})]})]})}),t.jsx("div",{className:"text-right",children:t.jsx(O.C,{variant:"active"===e.status?"default":"destructive",className:`text-xs mb-1 ${"active"===e.status?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200"}`,children:"active"===e.status?"活躍":"停用"})})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"角色："}),t.jsx(O.C,{variant:"outline",className:`text-xs ${"管理員"===e.roleName?"bg-purple-50 text-purple-700 border-purple-200":"主管"===e.roleName?"bg-blue-50 text-blue-700 border-blue-200":"bg-gray-50 text-gray-700 border-gray-200"}`,children:e.roleName})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[t.jsx("span",{className:"text-gray-600",children:"聯絡："}),t.jsx("span",{className:"text-gray-900 font-medium",children:e.phone||"未設定"})]})]}),(0,t.jsxs)("div",{className:"flex gap-2 mt-4 pt-3 border-t border-gray-100",children:[(0,t.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>eo(e),className:"flex-1 gap-1 text-xs hover:bg-blue-50 hover:border-blue-200",children:[t.jsx(I.Z,{className:"h-3 w-3"}),"查看"]}),(0,t.jsxs)(p.z,{variant:"outline",size:"sm",onClick:()=>ei(e),className:"flex-1 gap-1 text-xs hover:bg-green-50 hover:border-green-200",children:[t.jsx(V.Z,{className:"h-3 w-3"}),"編輯"]}),(0,t.jsxs)(F.h_,{children:[t.jsx(F.$F,{asChild:!0,children:t.jsx(p.z,{variant:"outline",size:"sm",className:"px-2 hover:bg-gray-100",children:t.jsx(_.Z,{className:"h-3 w-3"})})}),(0,t.jsxs)(F.AW,{align:"end",className:"w-48",children:[t.jsx(F.Ju,{children:"更多操作"}),t.jsx(F.VD,{}),(0,t.jsxs)(F.Xi,{onClick:()=>en(e),className:"gap-2",children:["active"===e.status?t.jsx(D,{className:"h-4 w-4"}):t.jsx(C.Z,{className:"h-4 w-4"}),"active"===e.status?"停用帳號":"啟用帳號"]}),t.jsx(F.VD,{}),(0,t.jsxs)(F.Xi,{onClick:()=>ed(e),className:"gap-2 text-red-600 focus:text-red-600 focus:bg-red-50",children:[t.jsx(q.Z,{className:"h-4 w-4"}),"刪除成員"]})]})]})]})]})},e.uid))})]})})]}),t.jsx(v,{isOpen:E,onOpenChange:Q,onPersonnelUpdate:er,personnelData:"edit"===ea?ee:null}),ee&&t.jsx(y.Q,{isOpen:J,onOpenChange:U,onConfirm:ec,title:`確認變更狀態`,description:`您確定要將員工「${ee.name||"N/A"}」的狀態變更為「${"active"===ee.status?"停用":"在職"}」嗎？此操作將會影響該員工的登入權限。`}),ee&&t.jsx(y.Q,{isOpen:W,onOpenChange:B,onConfirm:em,title:`確認刪除員工`,description:`您確定要永久刪除員工「${ee.name||"N/A"}」嗎？此操作無法復原，將會刪除所有相關資料。`}),H&&t.jsx(f.Vq,{open:K,onOpenChange:L,children:(0,t.jsxs)(f.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white",children:[(0,t.jsxs)(f.fK,{className:"pb-4 border-b border-gray-200",children:[(0,t.jsxs)(f.$N,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[t.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:t.jsx(u.Z,{className:"h-5 w-5 text-white"})}),"員工詳情"]}),(0,t.jsxs)("p",{className:"text-gray-600 mt-2",children:["工號: ",H.employeeId]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-blue-800",children:[t.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:t.jsx(u.Z,{className:"h-4 w-4 text-blue-600"})}),"基本資訊"]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"姓名"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:H.name||"-"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"工號"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:H.employeeId||"-"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"電話"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:H.phone||"-"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"狀態"}),t.jsx("div",{className:"text-lg",children:t.jsx(O.C,{variant:"active"===H.status?"default":"secondary",children:"active"===H.status?"啟用":"停用"})})]})]})]}),(0,t.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200 shadow-sm",children:[(0,t.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-purple-800",children:[t.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:t.jsx(z.Z,{className:"h-4 w-4 text-purple-600"})}),"權限資訊"]}),(0,t.jsxs)("div",{className:"space-y-2",children:[t.jsx("label",{className:"text-sm font-semibold text-gray-700",children:"角色"}),t.jsx("div",{className:"text-lg font-medium text-gray-900",children:H.roleName||"未設定"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[t.jsx(p.z,{variant:"outline",onClick:()=>L(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"關閉"}),(0,t.jsxs)(p.z,{onClick:()=>{L(!1),ei(H)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[t.jsx(V.Z,{className:"mr-2 h-4 w-4"}),"編輯"]})]})]})})]})}function X(){return t.jsx(G,{})}},13898:(e,s,a)=>{"use strict";a.d(s,{Q:()=>j});var t=a(10326),r=a(17577),l=a(80440),i=a(51223),n=a(91664);let d=l.fC;l.xz;let o=l.h_,c=r.forwardRef(({className:e,...s},a)=>t.jsx(l.aV,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s,ref:a}));c.displayName=l.aV.displayName;let x=r.forwardRef(({className:e,...s},a)=>(0,t.jsxs)(o,{children:[t.jsx(c,{}),t.jsx(l.VY,{ref:a,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950","p-4 sm:p-6 mx-3 sm:mx-0 rounded-lg","max-w-[calc(100vw-1.5rem)] sm:max-w-lg",e),...s})]}));x.displayName=l.VY.displayName;let m=({className:e,...s})=>t.jsx("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});m.displayName="AlertDialogHeader";let u=({className:e,...s})=>t.jsx("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});u.displayName="AlertDialogFooter";let h=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Dx,{ref:a,className:(0,i.cn)("text-lg font-semibold",e),...s}));h.displayName=l.Dx.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(l.dk,{ref:a,className:(0,i.cn)("text-sm text-slate-500",e),...s}));p.displayName=l.dk.displayName;let f=r.forwardRef(({className:e,...s},a)=>t.jsx(l.aU,{ref:a,className:(0,i.cn)((0,n.d)(),e),...s}));f.displayName=l.aU.displayName;let g=r.forwardRef(({className:e,...s},a)=>t.jsx(l.$j,{ref:a,className:(0,i.cn)((0,n.d)({variant:"outline"}),"mt-2 sm:mt-0",e),...s}));function j({isOpen:e,onOpenChange:s,onConfirm:a,title:r,description:l}){return t.jsx(d,{open:e,onOpenChange:s,children:(0,t.jsxs)(x,{className:"bg-white dark:bg-slate-900 border-2 shadow-xl",style:{background:"rgb(var(--toast-bg, 255 255 255))",color:"rgb(var(--toast-text, 15 23 42))",borderColor:"rgb(var(--toast-border, 226 232 240))"},"aria-describedby":"confirm-dialog-description",children:[(0,t.jsxs)(m,{children:[t.jsx(h,{className:"text-lg font-semibold",children:r}),t.jsx(p,{id:"confirm-dialog-description",className:"text-base",children:l})]}),(0,t.jsxs)(u,{children:[t.jsx(g,{asChild:!0,children:t.jsx(n.z,{variant:"outline",className:"border-2",children:"取消"})}),t.jsx(f,{asChild:!0,children:t.jsx(n.z,{onClick:a,className:"font-semibold",style:{background:"rgb(var(--toast-bg, 147 51 234))",color:"rgb(var(--toast-text, 255 255 255))"},children:"確認"})})]})]})})}g.displayName=l.$j.displayName},29752:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>i,SZ:()=>d,Zb:()=>l,aY:()=>o,eW:()=>c,ll:()=>n});var t=a(10326);a(17577);var r=a(51223);function l({className:e,...s}){return t.jsx("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",e),...s})}function i({className:e,...s}){return t.jsx("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",e),...s})}function n({className:e,...s}){return t.jsx("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",e),...s})}function d({className:e,...s}){return t.jsx("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",e),...s})}function o({className:e,...s}){return t.jsx("div",{"data-slot":"card-content",className:(0,r.cn)("",e),...s})}function c({className:e,...s}){return t.jsx("div",{"data-slot":"card-footer",className:(0,r.cn)("flex items-center",e),...s})}},24118:(e,s,a)=>{"use strict";a.d(s,{$N:()=>h,Be:()=>p,Vq:()=>d,cN:()=>u,cZ:()=>x,fK:()=>m});var t=a(10326),r=a(17577),l=a(98958),i=a(94019),n=a(51223);let d=l.fC;l.xz;let o=l.h_;l.x8;let c=r.forwardRef(({className:e,...s},a)=>t.jsx(l.aV,{ref:a,className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));c.displayName=l.aV.displayName;let x=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(o,{children:[t.jsx(c,{}),(0,t.jsxs)(l.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto","p-4 sm:p-6 mx-2 sm:mx-0","max-w-[calc(100vw-1rem)] sm:max-w-lg md:max-w-xl lg:max-w-2xl","max-h-[95vh] sm:max-h-[90vh]",e),...a,children:[s,(0,t.jsxs)(l.x8,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground p-1",children:[t.jsx(i.Z,{className:"h-5 w-5 sm:h-4 sm:w-4"}),t.jsx("span",{className:"sr-only",children:"關閉"})]})]})]}));x.displayName=l.VY.displayName;let m=({className:e,...s})=>t.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left pb-4 border-b border-border",e),...s});m.displayName="DialogHeader";let u=({className:e,...s})=>t.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-0 sm:space-x-2 pt-4 border-t border-border","[&>*]:w-full sm:[&>*]:w-auto",e),...s});u.displayName="DialogFooter";let h=r.forwardRef(({className:e,...s},a)=>t.jsx(l.Dx,{ref:a,className:(0,n.cn)("text-xl sm:text-2xl font-bold flex items-center gap-2 sm:gap-3 leading-tight",e),...s}));h.displayName=l.Dx.displayName;let p=r.forwardRef(({className:e,...s},a)=>t.jsx(l.dk,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));p.displayName=l.dk.displayName},9969:(e,s,a)=>{"use strict";a.d(s,{NI:()=>f,Wi:()=>x,l0:()=>o,lX:()=>p,xJ:()=>h,zG:()=>g});var t=a(10326),r=a(17577),l=a(34214),i=a(74723),n=a(51223),d=a(44794);let o=i.RV,c=r.createContext({}),x=({...e})=>t.jsx(c.Provider,{value:{name:e.name},children:t.jsx(i.Qr,{...e})}),m=()=>{let e=r.useContext(c),s=r.useContext(u),{getFieldState:a}=(0,i.Gc)(),t=(0,i.cl)({name:e.name}),l=a(e.name,t);if(!e)throw Error("useFormField should be used within <FormField>");let{id:n}=s;return{id:n,name:e.name,formItemId:`${n}-form-item`,formDescriptionId:`${n}-form-item-description`,formMessageId:`${n}-form-item-message`,...l}},u=r.createContext({});function h({className:e,...s}){let a=r.useId();return t.jsx(u.Provider,{value:{id:a},children:t.jsx("div",{"data-slot":"form-item",className:(0,n.cn)("grid gap-2",e),...s})})}function p({className:e,...s}){let{error:a,formItemId:r}=m();return t.jsx(d._,{"data-slot":"form-label","data-error":!!a,className:(0,n.cn)("data-[error=true]:text-destructive",e),htmlFor:r,...s})}function f({...e}){let{error:s,formItemId:a,formDescriptionId:r,formMessageId:i}=m();return t.jsx(l.g7,{"data-slot":"form-control",id:a,"aria-describedby":s?`${r} ${i}`:`${r}`,"aria-invalid":!!s,...e})}function g({className:e,...s}){let{error:a,formMessageId:r}=m(),l=a?String(a?.message??""):s.children;return l?t.jsx("p",{"data-slot":"form-message",id:r,className:(0,n.cn)("text-destructive text-sm",e),...s,children:l}):null}},41190:(e,s,a)=>{"use strict";a.d(s,{I:()=>i});var t=a(10326),r=a(17577),l=a(51223);let i=r.forwardRef(({className:e,type:s,...a},r)=>t.jsx("input",{type:s,className:(0,l.cn)("flex w-full rounded-md border border-slate-200 bg-white px-3 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300","h-11 sm:h-10 py-3 sm:py-2","text-base sm:text-sm","min-h-[44px]",e),ref:r,...a}));i.displayName="Input"},44794:(e,s,a)=>{"use strict";a.d(s,{_:()=>i});var t=a(10326);a(17577);var r=a(34478),l=a(51223);function i({className:e,...s}){return t.jsx(r.f,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}},29280:(e,s,a)=>{"use strict";a.d(s,{Bw:()=>p,Ph:()=>c,Ql:()=>f,i4:()=>m,ki:()=>x});var t=a(10326),r=a(17577),l=a(38785),i=a(941),n=a(96633),d=a(32933),o=a(51223);let c=l.fC;l.ZA;let x=l.B4,m=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.xz,{ref:r,className:(0,o.cn)("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",e),...a,children:[s,t.jsx(l.JO,{asChild:!0,children:t.jsx(i.Z,{className:"h-4 w-4 opacity-50"})})]}));m.displayName=l.xz.displayName;let u=r.forwardRef(({className:e,...s},a)=>t.jsx(l.u_,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=l.u_.displayName;let h=r.forwardRef(({className:e,...s},a)=>t.jsx(l.$G,{ref:a,className:(0,o.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:t.jsx(i.Z,{className:"h-4 w-4"})}));h.displayName=l.$G.displayName;let p=r.forwardRef(({className:e,children:s,position:a="popper",...r},i)=>t.jsx(l.h_,{children:(0,t.jsxs)(l.VY,{ref:i,className:(0,o.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50","popper"===a&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:a,...r,children:[t.jsx(u,{}),t.jsx(l.l_,{className:(0,o.cn)("p-1","popper"===a&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),t.jsx(h,{})]})}));p.displayName=l.VY.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(l.__,{ref:a,className:(0,o.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=l.__.displayName;let f=r.forwardRef(({className:e,children:s,...a},r)=>(0,t.jsxs)(l.ck,{ref:r,className:(0,o.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...a,children:[t.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:t.jsx(l.wU,{children:t.jsx(d.Z,{className:"h-4 w-4"})})}),t.jsx(l.eT,{children:s})]}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,...s},a)=>t.jsx(l.Z0,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...s})).displayName=l.Z0.displayName},41156:(e,s,a)=>{"use strict";a.d(s,{RM:()=>n,SC:()=>d,iA:()=>l,pj:()=>c,ss:()=>o,xD:()=>i});var t=a(10326);a(17577);var r=a(51223);function l({className:e,...s}){return t.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:t.jsx("table",{"data-slot":"table",className:(0,r.cn)("w-full caption-bottom text-sm",e),...s})})}function i({className:e,...s}){return t.jsx("thead",{"data-slot":"table-header",className:(0,r.cn)("",e),...s})}function n({className:e,...s}){return t.jsx("tbody",{"data-slot":"table-body",className:(0,r.cn)("[&_tr:last-child]:border-0",e),...s})}function d({className:e,...s}){return t.jsx("tr",{"data-slot":"table-row",className:(0,r.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",e),...s})}function o({className:e,...s}){return t.jsx("th",{"data-slot":"table-head",className:(0,r.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}function c({className:e,...s}){return t.jsx("td",{"data-slot":"table-cell",className:(0,r.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...s})}},8616:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>t});let t=(0,a(68570).createProxy)(String.raw`D:\APP\deer-lab\src\app\dashboard\personnel\page.tsx#default`)},80440:(e,s,a)=>{"use strict";a.d(s,{$j:()=>$,Dx:()=>O,VY:()=>S,aU:()=>R,aV:()=>q,dk:()=>M,fC:()=>_,h_:()=>V,xz:()=>I});var t=a(17577),r=a(93095),l=a(48051),i=a(98958),n=a(82561),d=a(34214),o=a(10326),c="AlertDialog",[x,m]=(0,r.b)(c,[i.p8]),u=(0,i.p8)(),h=e=>{let{__scopeAlertDialog:s,...a}=e,t=u(s);return(0,o.jsx)(i.fC,{...t,...a,modal:!0})};h.displayName=c;var p=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=u(a);return(0,o.jsx)(i.xz,{...r,...t,ref:s})});p.displayName="AlertDialogTrigger";var f=e=>{let{__scopeAlertDialog:s,...a}=e,t=u(s);return(0,o.jsx)(i.h_,{...t,...a})};f.displayName="AlertDialogPortal";var g=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=u(a);return(0,o.jsx)(i.aV,{...r,...t,ref:s})});g.displayName="AlertDialogOverlay";var j="AlertDialogContent",[b,N]=x(j),v=(0,d.sA)("AlertDialogContent"),y=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,children:r,...d}=e,c=u(a),x=t.useRef(null),m=(0,l.e)(s,x),h=t.useRef(null);return(0,o.jsx)(i.jm,{contentName:j,titleName:w,docsSlug:"alert-dialog",children:(0,o.jsx)(b,{scope:a,cancelRef:h,children:(0,o.jsxs)(i.VY,{role:"alertdialog",...c,...d,ref:m,onOpenAutoFocus:(0,n.Mj)(d.onOpenAutoFocus,e=>{e.preventDefault(),h.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,o.jsx)(v,{children:r}),(0,o.jsx)(A,{contentRef:x})]})})})});y.displayName=j;var w="AlertDialogTitle",k=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=u(a);return(0,o.jsx)(i.Dx,{...r,...t,ref:s})});k.displayName=w;var Z="AlertDialogDescription",C=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=u(a);return(0,o.jsx)(i.dk,{...r,...t,ref:s})});C.displayName=Z;var D=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,r=u(a);return(0,o.jsx)(i.x8,{...r,...t,ref:s})});D.displayName="AlertDialogAction";var z="AlertDialogCancel",P=t.forwardRef((e,s)=>{let{__scopeAlertDialog:a,...t}=e,{cancelRef:r}=N(z,a),n=u(a),d=(0,l.e)(s,r);return(0,o.jsx)(i.x8,{...n,...t,ref:d})});P.displayName=z;var A=({contentRef:e})=>{let s=`\`${j}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${j}\` by passing a \`${Z}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${j}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return t.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,e]),null},_=h,I=p,V=f,q=g,S=y,R=D,$=P,O=k,M=C}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),t=s.X(0,[8948,9654,5540,8693,692,9516,4108,4334],()=>a(12650));module.exports=t})();
exports.id=4334,exports.ids=[4334],exports.modules={12211:(e,t,a)=>{Promise.resolve().then(a.bind(a,85004))},85004:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>G});var s=a(10326),r=a(90434),l=a(46226),n=a(35047),o=a(17577),i=a(42851),d=a(51223);function c({className:e,...t}){return s.jsx(i.fC,{"data-slot":"avatar",className:(0,d.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...t})}function m({className:e,...t}){return s.jsx(i.NY,{"data-slot":"avatar-fallback",className:(0,d.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...t})}var u=a(91664),f=a(10143),x=a(74690);a(76);var h=a(78880);a(90445);var b=a(85999),p=a(21765),g=a(29798),N=a(59819),E=a(48998),v=a(38787),y=a(57671),A=a(48705),w=a(86943),R=a(90750),j=a(59323),_=a(37383),S=a(48238),I=a(17069),M=a(77577),C=a(941),V=a(71810);let k=[{href:"/dashboard",label:"工作台",icon:g.Z},{isSeparator:!0,label:"團隊管理"},{href:"/dashboard/personnel",label:"成員管理",icon:N.Z},{href:"/dashboard/time-records",label:"工時統計",icon:E.Z},{isSeparator:!0,label:"供應鏈"},{href:"/dashboard/suppliers",label:"供應商",icon:v.Z},{href:"/dashboard/purchase-orders",label:"採購訂單",icon:y.Z},{isSeparator:!0,label:"生產中心"},{href:"/dashboard/materials",label:"原料庫",icon:A.Z},{href:"/dashboard/fragrances",label:"配方庫",icon:w.Z},{href:"/dashboard/products",label:"產品目錄",icon:R.Z},{href:"/dashboard/work-orders",label:"生產工單",icon:j.Z},{isSeparator:!0,label:"營運分析"},{href:"/dashboard/inventory",label:"庫存監控",icon:_.Z},{href:"/dashboard/inventory-records",label:"庫存歷史",icon:S.Z},{href:"/dashboard/cost-management",label:"成本分析",icon:I.Z},{href:"/dashboard/time-reports",label:"工時報表",icon:M.Z}];function T(){let e=(0,n.usePathname)(),{cartItemCount:t,isLoading:a}=function(){let[e,t]=(0,o.useState)([]),[a,s]=(0,o.useState)(0),[r,l]=(0,o.useState)(!0),[n,i]=(0,o.useState)(!1),d=(0,o.useCallback)(async e=>{try{i(!0);let t=(0,h.$C)(),a=(0,h.V1)(t,"addToGlobalCart");if((await a({item:e})).data)return b.Am.success("已加入購物車"),!0;return!1}catch(e){return console.error("加入購物車失敗:",e),b.Am.error("加入購物車失敗"),!1}finally{i(!1)}},[]),c=(0,o.useCallback)(async(e,t)=>{try{i(!0);let a=(0,h.$C)(),s=(0,h.V1)(a,"updateGlobalCartItem");if((await s({itemId:e,updates:t})).data)return b.Am.success("購物車已更新"),!0;return!1}catch(e){return console.error("更新購物車失敗:",e),b.Am.error("更新購物車失敗"),!1}finally{i(!1)}},[]),m=(0,o.useCallback)(async e=>{try{i(!0);let t=(0,h.$C)(),a=(0,h.V1)(t,"removeFromGlobalCart");if((await a({itemId:e})).data)return b.Am.success("已從購物車移除"),!0;return!1}catch(e){return console.error("移除項目失敗:",e),b.Am.error("移除項目失敗"),!1}finally{i(!1)}},[]),u=(0,o.useCallback)(async()=>{try{i(!0);let e=(0,h.$C)(),t=(0,h.V1)(e,"clearGlobalCart");if((await t()).data)return b.Am.success("購物車已清空"),!0;return!1}catch(e){return console.error("清空購物車失敗:",e),b.Am.error("清空購物車失敗"),!1}finally{i(!1)}},[]),f=(0,o.useCallback)(()=>{let t={};return e.forEach(e=>{t[e.supplierId]||(t[e.supplierId]=[]),t[e.supplierId].push(e)}),t},[e]);return{cartItems:e,cartItemCount:a,isLoading:r,isSyncing:n,addToCart:d,updateCartItem:c,removeFromCart:m,clearCart:u,getCartBySupplier:f}}(),{canAccess:l}=(0,p.g)(),i=()=>{let e=document.getElementById("mobile-sidebar"),t=document.getElementById("sidebar-overlay");e&&t&&(e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full"),t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))},c=(()=>{let e=[],t=!1,a=null;for(let s=0;s<k.length;s++){let r=k[s];r.isSeparator?(a&&t&&e.push(a),a=r,t=!1):("/dashboard"===r.href||l(r.href))&&(a&&!t&&(e.push(a),t=!0),e.push(r))}return e})();return s.jsx("nav",{className:"flex flex-col gap-1 px-4 py-4",children:c.map((l,n)=>{if(l.isSeparator)return s.jsx("h2",{className:"px-2 mt-4 mb-1 text-xs font-semibold text-muted-foreground uppercase tracking-wider",children:l.label},`sep-${n}`);let o=l.icon,c=e===l.href;return c&&console.log("SidebarNav: 當前活動頁面:",l.href),(0,s.jsxs)(r.default,{href:l.href,onClick:i,className:(0,d.cn)("flex items-center gap-3 rounded-lg px-3 py-3 text-sm font-medium transition-all duration-200 relative",c?"bg-gradient-to-r from-primary to-primary/80 text-primary-foreground shadow-lg":"text-muted-foreground hover:bg-muted hover:text-foreground"),children:[s.jsx(o,{className:(0,d.cn)("h-4 w-4",c?"text-primary-foreground":"text-muted-foreground")}),s.jsx("span",{className:"truncate",children:l.label}),"/dashboard/purchase-orders"===l.href&&!a&&t>0&&s.jsx("div",{className:"absolute -top-1 -right-1 bg-gradient-to-r from-red-500 to-red-600 text-white text-xs rounded-full h-6 w-6 flex items-center justify-center font-bold border-2 border-white shadow-lg z-10",children:s.jsx("span",{className:"animate-pulse",children:t>99?"99+":t})})]},l.href)})})}function O(){let{appUser:e,logout:t}=(0,x.a)(),a=e?.name?e.name.charAt(0).toUpperCase():"U";return(0,s.jsxs)(f.h_,{children:[s.jsx(f.$F,{asChild:!0,children:(0,s.jsxs)(u.z,{variant:"ghost",className:"relative h-12 w-full justify-start px-4 text-left font-normal hover:bg-muted rounded-lg transition-colors",children:[s.jsx(c,{className:"h-8 w-8 mr-3 ring-2 ring-border",children:s.jsx(m,{className:"bg-gradient-to-br from-primary to-primary/80 text-primary-foreground font-medium",children:a})}),(0,s.jsxs)("div",{className:"flex flex-col space-y-1 flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium leading-none text-foreground truncate",children:e?.name||"使用者"}),(0,s.jsxs)("p",{className:"text-xs leading-none text-muted-foreground truncate",children:["工號: ",e?.employeeId||"N/A"]})]}),s.jsx(C.Z,{className:"h-4 w-4 ml-2 text-muted-foreground flex-shrink-0"})]})}),(0,s.jsxs)(f.AW,{className:"w-56",align:"end",forceMount:!0,children:[s.jsx(f.Ju,{className:"font-normal",children:(0,s.jsxs)("div",{className:"flex flex-col space-y-1",children:[s.jsx("p",{className:"text-sm font-medium leading-none text-foreground",children:e?.name||"使用者"}),s.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:e?.employeeId})]})}),s.jsx(f.VD,{}),(0,s.jsxs)(f.Xi,{onClick:()=>{t();let e=document.getElementById("mobile-sidebar"),a=document.getElementById("sidebar-overlay");e&&a&&(e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full"),a.style.opacity="0",setTimeout(()=>{a.style.display="none"},300))},className:"text-destructive focus:text-destructive",children:[s.jsx(V.Z,{className:"mr-2 h-4 w-4"}),s.jsx("span",{children:"登出"})]})]})]})}function G({children:e}){let{isLoading:t,appUser:a}=(0,x.a)();return((0,n.useRouter)(),t)?s.jsx("div",{className:"flex h-screen w-full items-center justify-center",children:(0,s.jsxs)("div",{className:"flex flex-col items-center space-y-4",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),s.jsx("p",{className:"text-muted-foreground",children:"載入中..."})]})}):a?(0,s.jsxs)("div",{className:"flex h-screen w-full bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,s.jsxs)("aside",{className:"hidden lg:flex fixed inset-y-0 left-0 z-20 h-full w-64 flex-col border-r bg-white/95 backdrop-blur-sm shadow-lg",children:[(0,s.jsxs)("div",{className:"flex h-16 shrink-0 items-center border-b px-6 bg-gradient-to-r from-purple-600 to-blue-600",children:[s.jsx(l.default,{src:"/dexter-lab-logo.svg",alt:"德科斯特的實驗室",width:24,height:24,className:"text-white"}),s.jsx("span",{className:"ml-2 font-semibold text-white text-sm",children:"德科斯特的實驗室"})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(T,{})}),s.jsx("div",{className:"mt-auto p-4 border-t bg-gray-50/50",children:s.jsx(O,{})})]}),s.jsx("div",{className:"lg:hidden fixed inset-0 z-10 bg-black/50 transition-opacity duration-300",style:{display:"none",opacity:0},id:"sidebar-overlay",onClick:()=>{let e=document.getElementById("mobile-sidebar"),t=document.getElementById("sidebar-overlay");e&&t&&(e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full"),t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))}}),(0,s.jsxs)("main",{className:"flex flex-1 flex-col lg:ml-64",children:[s.jsx("header",{className:"lg:hidden flex h-16 items-center justify-between border-b bg-white px-4 shadow-sm",children:(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[s.jsx("button",{className:"p-2 rounded-md hover:bg-gray-100",onClick:()=>{let e=document.getElementById("mobile-sidebar"),t=document.getElementById("sidebar-overlay");e&&t&&(e.classList.contains("-translate-x-full")?(e.classList.remove("-translate-x-full"),e.classList.add("translate-x-0"),t.style.display="block",setTimeout(()=>{t.style.opacity="1"},10)):(e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full"),t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300)))},children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),s.jsx(l.default,{src:"/dexter-lab-logo.svg",alt:"德科斯特的實驗室",width:24,height:24}),s.jsx("span",{className:"font-semibold text-gray-900 text-sm",children:"德科斯特的實驗室"})]})}),(0,s.jsxs)("aside",{className:"lg:hidden fixed inset-y-0 left-0 z-20 h-full w-64 flex-col border-r bg-white shadow-xl transform -translate-x-full transition-transform duration-300 flex",id:"mobile-sidebar",children:[(0,s.jsxs)("div",{className:"flex h-16 shrink-0 items-center justify-between border-b px-6 bg-gradient-to-r from-purple-600 to-blue-600",children:[(0,s.jsxs)("div",{className:"flex items-center",children:[s.jsx(l.default,{src:"/dexter-lab-logo.svg",alt:"德科斯特的實驗室",width:24,height:24,className:"text-white"}),s.jsx("span",{className:"ml-2 font-semibold text-white text-sm",children:"德科斯特的實驗室"})]}),s.jsx("button",{className:"p-2 rounded-md hover:bg-white/10 text-white",onClick:()=>{let e=document.getElementById("mobile-sidebar"),t=document.getElementById("sidebar-overlay");e&&t&&(e.classList.remove("translate-x-0"),e.classList.add("-translate-x-full"),t.style.opacity="0",setTimeout(()=>{t.style.display="none"},300))},children:s.jsx("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:s.jsx(T,{})}),s.jsx("div",{className:"mt-auto p-4 border-t bg-gray-50/50",children:s.jsx(O,{})})]}),s.jsx("div",{className:"flex-1 overflow-auto",children:s.jsx("div",{className:"p-4 lg:p-6 lg:py-4",children:e})})]})]}):null}},38443:(e,t,a)=>{"use strict";a.d(t,{C:()=>i});var s=a(10326);a(17577);var r=a(34214),l=a(79360),n=a(51223);let o=(0,l.j)("inline-flex items-center justify-center rounded-full px-2 py-1 text-xs font-medium focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-blue-100 text-blue-700",secondary:"bg-muted text-muted-foreground",destructive:"bg-red-100 text-red-700",outline:"text-foreground border border-border",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",purple:"bg-purple-100 text-purple-700"}},defaultVariants:{variant:"default"}});function i({className:e,variant:t,asChild:a=!1,...l}){let i=a?r.g7:"span";return s.jsx(i,{"data-slot":"badge",className:(0,n.cn)(o({variant:t}),e),...l})}},91664:(e,t,a)=>{"use strict";a.d(t,{d:()=>i,z:()=>d});var s=a(10326),r=a(17577),l=a(34214),n=a(79360),o=a(51223);let i=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md font-medium ring-offset-background transition-all duration-200 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 text-base sm:text-sm",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 border border-border",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-11 sm:h-10 px-4 py-2 min-h-[44px]",sm:"h-10 sm:h-9 rounded-md px-3 min-h-[40px]",lg:"h-12 sm:h-11 rounded-md px-8 min-h-[48px]",icon:"h-11 w-11 sm:h-10 sm:w-10 min-h-[44px] min-w-[44px]"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...n},d)=>{let c=r?l.g7:"button";return s.jsx(c,{className:(0,o.cn)(i({variant:t,size:a,className:e})),ref:d,...n})});d.displayName="Button"},10143:(e,t,a)=>{"use strict";a.d(t,{$F:()=>m,AW:()=>u,Ju:()=>x,VD:()=>h,Xi:()=>f,h_:()=>c});var s=a(10326),r=a(17577),l=a(79313),n=a(39183),o=a(32933),i=a(53982),d=a(51223);let c=l.fC,m=l.xz;l.ZA,l.Uv,l.Tr,l.Ee,r.forwardRef(({className:e,inset:t,children:a,...r},o)=>(0,s.jsxs)(l.fF,{ref:o,className:(0,d.cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-slate-100 data-[state=open]:bg-slate-100 dark:focus:bg-slate-800 dark:data-[state=open]:bg-slate-800",t&&"pl-8",e),...r,children:[a,s.jsx(n.Z,{className:"ml-auto h-4 w-4"})]})).displayName=l.fF.displayName,r.forwardRef(({className:e,...t},a)=>s.jsx(l.tu,{ref:a,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",e),...t})).displayName=l.tu.displayName;let u=r.forwardRef(({className:e,sideOffset:t=4,...a},r)=>s.jsx(l.Uv,{children:s.jsx(l.VY,{ref:r,sideOffset:t,className:(0,d.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white p-1 text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50",e),...a})}));u.displayName=l.VY.displayName;let f=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(l.ck,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",t&&"pl-8",e),...a}));f.displayName=l.ck.displayName,r.forwardRef(({className:e,children:t,checked:a,...r},n)=>(0,s.jsxs)(l.oC,{ref:n,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),checked:a,...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(o.Z,{className:"h-4 w-4"})})}),t]})).displayName=l.oC.displayName,r.forwardRef(({className:e,children:t,...a},r)=>(0,s.jsxs)(l.Rk,{ref:r,className:(0,d.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",e),...a,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(l.wU,{children:s.jsx(i.Z,{className:"h-2 w-2 fill-current"})})}),t]})).displayName=l.Rk.displayName;let x=r.forwardRef(({className:e,inset:t,...a},r)=>s.jsx(l.__,{ref:r,className:(0,d.cn)("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...a}));x.displayName=l.__.displayName;let h=r.forwardRef(({className:e,...t},a)=>s.jsx(l.Z0,{ref:a,className:(0,d.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",e),...t}));h.displayName=l.Z0.displayName},21765:(e,t,a)=>{"use strict";a.d(t,{g:()=>n});var s=a(74690);let r={PERSONNEL_VIEW:"personnel.view",PERSONNEL_MANAGE:"personnel.manage",TIME_VIEW:"time.view",TIME_MANAGE:"time.manage",SUPPLIERS_VIEW:"suppliers.view",SUPPLIERS_MANAGE:"suppliers.manage",PURCHASE_VIEW:"purchase.view",PURCHASE_MANAGE:"purchase.manage",MATERIALS_VIEW:"materials.view",MATERIALS_MANAGE:"materials.manage",FRAGRANCES_VIEW:"fragrances.view",FRAGRANCES_MANAGE:"fragrances.manage",PRODUCTS_VIEW:"products.view",PRODUCTS_MANAGE:"products.manage",WORK_ORDERS_VIEW:"workOrders.view",WORK_ORDERS_MANAGE:"workOrders.manage",INVENTORY_VIEW:"inventory.view",INVENTORY_MANAGE:"inventory.manage",INVENTORY_RECORDS_VIEW:"inventoryRecords.view",COST_VIEW:"cost.view",TIME_REPORTS_VIEW:"timeReports.view",ROLES_MANAGE:"roles.manage",SYSTEM_SETTINGS:"system.settings"};Object.values(r);let l={"/dashboard":{view:[]},"/dashboard/personnel":{view:[r.PERSONNEL_VIEW,r.PERSONNEL_MANAGE],manage:[r.PERSONNEL_MANAGE]},"/dashboard/time-records":{view:[r.TIME_VIEW,r.TIME_MANAGE]},"/dashboard/suppliers":{view:[r.SUPPLIERS_VIEW,r.SUPPLIERS_MANAGE],manage:[r.SUPPLIERS_MANAGE]},"/dashboard/purchase-orders":{view:[r.PURCHASE_VIEW,r.PURCHASE_MANAGE],manage:[r.PURCHASE_MANAGE]},"/dashboard/materials":{view:[r.MATERIALS_VIEW,r.MATERIALS_MANAGE],manage:[r.MATERIALS_MANAGE]},"/dashboard/fragrances":{view:[r.FRAGRANCES_VIEW,r.FRAGRANCES_MANAGE],manage:[r.FRAGRANCES_MANAGE]},"/dashboard/products":{view:[r.PRODUCTS_VIEW,r.PRODUCTS_MANAGE],manage:[r.PRODUCTS_MANAGE]},"/dashboard/work-orders":{view:[r.WORK_ORDERS_VIEW,r.WORK_ORDERS_MANAGE],manage:[r.WORK_ORDERS_MANAGE]},"/dashboard/inventory":{view:[r.INVENTORY_VIEW,r.INVENTORY_MANAGE],manage:[r.INVENTORY_MANAGE]},"/dashboard/inventory-records":{view:[r.INVENTORY_RECORDS_VIEW]},"/dashboard/cost-management":{view:[r.COST_VIEW]},"/dashboard/time-reports":{view:[r.TIME_REPORTS_VIEW]}};function n(){let{appUser:e,hasPermission:t,hasAnyPermission:a,hasAllPermissions:r}=(0,s.a)();return{hasPermission:t,hasAnyPermission:a,hasAllPermissions:r,canAccess:t=>!!e?.permissions&&function(e,t){let a=l[e];return!a||0===a.view.length||a.view.some(e=>t.includes(e))}(t,e.permissions),canManage:t=>!!e?.permissions&&function(e,t){let a=l[e];return!!a?.manage&&a.manage.some(e=>t.includes(e))}(t,e.permissions),isAdmin:()=>e?.roleName==="系統管理員",isForeman:()=>e?.roleName==="生產領班",isTimekeeper:()=>e?.roleName==="計時人員",userRole:e?.roleName||"未設定",userPermissions:e?.permissions||[]}}r.PERSONNEL_VIEW,r.PERSONNEL_MANAGE,r.TIME_VIEW,r.TIME_MANAGE,r.SUPPLIERS_VIEW,r.SUPPLIERS_MANAGE,r.PURCHASE_VIEW,r.PURCHASE_MANAGE,r.MATERIALS_VIEW,r.MATERIALS_MANAGE,r.FRAGRANCES_VIEW,r.FRAGRANCES_MANAGE,r.PRODUCTS_VIEW,r.PRODUCTS_MANAGE,r.WORK_ORDERS_VIEW,r.WORK_ORDERS_MANAGE,r.INVENTORY_VIEW,r.INVENTORY_MANAGE,r.INVENTORY_RECORDS_VIEW,r.COST_VIEW,r.TIME_REPORTS_VIEW,r.ROLES_MANAGE,r.SYSTEM_SETTINGS},51223:(e,t,a)=>{"use strict";a.d(t,{NQ:()=>c,SF:()=>d,cn:()=>l,generateCategoryId:()=>n,generateSubCategoryId:()=>o});var s=a(41135),r=a(31009);function l(...e){return(0,r.m6)((0,s.W)(e))}function n(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZ",t="";for(let a=0;a<2;a++)t+=e.charAt(Math.floor(Math.random()*e.length));return t}function o(){let e="";for(let t=0;t<3;t++)e+=Math.floor(10*Math.random());return e}async function i(e,t,s){try{let{collection:r,getDocs:l,query:n,where:o}=await Promise.resolve().then(a.bind(a,76)),i=n(r(s,t),o("id","==",e));return!(await l(i)).empty}catch(e){return console.error("檢查 ID 是否存在時發生錯誤:",e),!1}}async function d(e){let t=n(),a=0;for(;await i(t,"materialCategories",e)&&a<10;)t=n(),a++;return t}async function c(e){let t=o(),a=0;for(;await i(t,"materialSubCategories",e)&&a<10;)t=o(),a++;return t}a(76)},22834:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(68570).createProxy)(String.raw`D:\APP\deer-lab\src\app\dashboard\layout.tsx#default`)},73881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(66621);let r=e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",e.params,"favicon.ico")+""}]}};
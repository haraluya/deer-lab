"use strict";exports.id=5182,exports.ids=[5182],exports.modules={86333:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},37358:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},77506:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},40617:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},83855:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},98091:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},63685:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},79635:(e,t,a)=>{a.d(t,{Z:()=>r});let r=(0,a(62881).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},29752:(e,t,a)=>{a.d(t,{Ol:()=>l,SZ:()=>n,Zb:()=>o,aY:()=>i,eW:()=>c,ll:()=>d});var r=a(10326);a(17577);var s=a(51223);function o({className:e,...t}){return r.jsx("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",e),...t})}function l({className:e,...t}){return r.jsx("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",e),...t})}function d({className:e,...t}){return r.jsx("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",e),...t})}function n({className:e,...t}){return r.jsx("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...t})}function i({className:e,...t}){return r.jsx("div",{"data-slot":"card-content",className:(0,s.cn)("",e),...t})}function c({className:e,...t}){return r.jsx("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center",e),...t})}},24118:(e,t,a)=>{a.d(t,{$N:()=>p,Be:()=>x,Vq:()=>n,cN:()=>f,cZ:()=>m,fK:()=>u});var r=a(10326),s=a(17577),o=a(98958),l=a(94019),d=a(51223);let n=o.fC;o.xz;let i=o.h_;o.x8;let c=s.forwardRef(({className:e,...t},a)=>r.jsx(o.aV,{ref:a,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));c.displayName=o.aV.displayName;let m=s.forwardRef(({className:e,children:t,...a},s)=>(0,r.jsxs)(i,{children:[r.jsx(c,{}),(0,r.jsxs)(o.VY,{ref:s,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto","p-4 sm:p-6 mx-2 sm:mx-0","max-w-[calc(100vw-1rem)] sm:max-w-lg md:max-w-xl lg:max-w-2xl","max-h-[95vh] sm:max-h-[90vh]",e),...a,children:[t,(0,r.jsxs)(o.x8,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground p-1",children:[r.jsx(l.Z,{className:"h-5 w-5 sm:h-4 sm:w-4"}),r.jsx("span",{className:"sr-only",children:"關閉"})]})]})]}));m.displayName=o.VY.displayName;let u=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left pb-4 border-b border-border",e),...t});u.displayName="DialogHeader";let f=({className:e,...t})=>r.jsx("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-0 sm:space-x-2 pt-4 border-t border-border","[&>*]:w-full sm:[&>*]:w-auto",e),...t});f.displayName="DialogFooter";let p=s.forwardRef(({className:e,...t},a)=>r.jsx(o.Dx,{ref:a,className:(0,d.cn)("text-xl sm:text-2xl font-bold flex items-center gap-2 sm:gap-3 leading-tight",e),...t}));p.displayName=o.Dx.displayName;let x=s.forwardRef(({className:e,...t},a)=>r.jsx(o.dk,{ref:a,className:(0,d.cn)("text-sm text-muted-foreground",e),...t}));x.displayName=o.dk.displayName},41190:(e,t,a)=>{a.d(t,{I:()=>l});var r=a(10326),s=a(17577),o=a(51223);let l=s.forwardRef(({className:e,type:t,...a},s)=>r.jsx("input",{type:t,className:(0,o.cn)("flex w-full rounded-md border border-slate-200 bg-white px-3 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300","h-11 sm:h-10 py-3 sm:py-2","text-base sm:text-sm","min-h-[44px]",e),ref:s,...a}));l.displayName="Input"},44794:(e,t,a)=>{a.d(t,{_:()=>l});var r=a(10326);a(17577);var s=a(34478),o=a(51223);function l({className:e,...t}){return r.jsx(s.f,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...t})}},41156:(e,t,a)=>{a.d(t,{RM:()=>d,SC:()=>n,iA:()=>o,pj:()=>c,ss:()=>i,xD:()=>l});var r=a(10326);a(17577);var s=a(51223);function o({className:e,...t}){return r.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:r.jsx("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",e),...t})})}function l({className:e,...t}){return r.jsx("thead",{"data-slot":"table-header",className:(0,s.cn)("",e),...t})}function d({className:e,...t}){return r.jsx("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",e),...t})}function n({className:e,...t}){return r.jsx("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",e),...t})}function i({className:e,...t}){return r.jsx("th",{"data-slot":"table-head",className:(0,s.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}function c({className:e,...t}){return r.jsx("td",{"data-slot":"table-cell",className:(0,s.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",e),...t})}},82015:(e,t,a)=>{a.d(t,{g:()=>l});var r=a(10326),s=a(17577),o=a(51223);let l=s.forwardRef(({className:e,...t},a)=>r.jsx("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:a,...t}));l.displayName="Textarea"},27467:(e,t,a)=>{a.d(t,{OM:()=>c});var r=a(90445),s=a(11552);let o={folder:"uploads",fileName:"",maxSize:5,allowedTypes:["image/jpeg","image/png","image/webp","image/gif"],compress:!0,quality:.6},l=(e,t=.6)=>new Promise((a,r)=>{let s=document.createElement("canvas"),o=s.getContext("2d"),l=new Image;l.onload=()=>{let{width:d,height:n}=l;d>n?d>800&&(n=800*n/d,d=800):n>600&&(d=600*d/n,n=600),s.width=d,s.height=n,o?(o.drawImage(l,0,0,d,n),s.toBlob(t=>{t?a(new File([t],e.name,{type:e.type,lastModified:Date.now()})):r(Error("圖片壓縮失敗"))},e.type,t)):r(Error("無法創建 canvas context"))},l.onerror=()=>r(Error("圖片載入失敗")),l.src=URL.createObjectURL(e)}),d=(e,t)=>{let a=new Date,r=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),l=String(a.getHours()).padStart(2,"0"),d=String(a.getMinutes()).padStart(2,"0"),n=Date.now();return`${e}/${r}/${s}/${o}/${l}/${d}/${n}_${t}`},n=(e,t)=>e.size>1048576*t.maxSize?`檔案大小不能超過 ${t.maxSize}MB`:t.allowedTypes.includes(e.type)?null:`不支援的檔案類型: ${e.type}`,i=async(e,t={})=>{let a={...o,...t};try{let t=n(e,a);if(t)return{success:!1,error:t};let o=(0,r.KT)();if(!o)return{success:!1,error:"Firebase Storage 未初始化"};let i=e;if(a.compress)try{i=await l(e,a.quality),console.log("圖片壓縮完成:",i.name,"大小:",i.size)}catch(e){console.warn("圖片壓縮失敗，使用原始檔案:",e)}let c=a.fileName||e.name,m=d(a.folder,c),u=(0,s.ref)(o,m),f={contentType:e.type,cacheControl:"public, max-age=31536000"},p=await (0,s.KV)(u,i,f);console.log("檔案上傳成功:",m);let x=await (0,s.Jt)(p.ref);return console.log("下載 URL:",x),{success:!0,url:x,path:m}}catch(e){if(console.error("圖片上傳失敗:",e),e instanceof Error&&e.message.includes("unauthorized"))return{success:!1,error:"圖片上傳權限不足，請檢查 Firebase Storage 規則設定"};if(e instanceof Error&&e.message.includes("network"))return{success:!1,error:"網路連線問題，請檢查網路連線後重試"};return{success:!1,error:e instanceof Error?e.message:"未知錯誤"}}},c=async(e,t={})=>{let a=[];for(let r of e){let e=await i(r,t);a.push(e)}return a}}};
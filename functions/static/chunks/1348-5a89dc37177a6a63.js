"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1348],{32660:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},31047:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},51817:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},53417:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]])},44794:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},99397:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},18930:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},17689:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},92369:function(e,t,a){a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},99376:function(e,t,a){var r=a(35475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},69174:function(e,t,a){a.d(t,{C:function(){return i}});var r=a(57437);a(2265);var n=a(37053),o=a(90535),s=a(93448);let l=(0,o.j)("inline-flex items-center justify-center rounded-full px-2 py-1 text-xs font-medium focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-blue-100 text-blue-700",secondary:"bg-muted text-muted-foreground",destructive:"bg-red-100 text-red-700",outline:"text-foreground border border-border",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",purple:"bg-purple-100 text-purple-700"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,asChild:o=!1,...i}=e,d=o?n.g7:"span";return(0,r.jsx)(d,{"data-slot":"badge",className:(0,s.cn)(l({variant:a}),t),...i})}},79820:function(e,t,a){a.d(t,{Ol:function(){return s},SZ:function(){return i},Zb:function(){return o},aY:function(){return d},eW:function(){return c},ll:function(){return l}});var r=a(57437);a(2265);var n=a(93448);function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,n.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",t),...a})}function s(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,n.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,n.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,n.cn)("text-muted-foreground text-sm",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,n.cn)("",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,n.cn)("flex items-center",t),...a})}},74291:function(e,t,a){a.d(t,{$N:function(){return p},Be:function(){return x},Vq:function(){return i},cN:function(){return m},cZ:function(){return u},fK:function(){return f}});var r=a(57437),n=a(2265),o=a(49027),s=a(32489),l=a(93448);let i=o.fC;o.xz;let d=o.h_;o.x8;let c=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n})});c.displayName=o.aV.displayName;let u=n.forwardRef((e,t)=>{let{className:a,children:n,...i}=e;return(0,r.jsxs)(d,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(o.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto","p-4 sm:p-6 mx-2 sm:mx-0","max-w-[calc(100vw-1rem)] sm:max-w-lg md:max-w-xl lg:max-w-2xl","max-h-[95vh] sm:max-h-[90vh]",a),...i,children:[n,(0,r.jsxs)(o.x8,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground p-1",children:[(0,r.jsx)(s.Z,{className:"h-5 w-5 sm:h-4 sm:w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"關閉"})]})]})]})});u.displayName=o.VY.displayName;let f=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left pb-4 border-b border-border",t),...a})};f.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-0 sm:space-x-2 pt-4 border-t border-border","[&>*]:w-full sm:[&>*]:w-auto",t),...a})};m.displayName="DialogFooter";let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.Dx,{ref:t,className:(0,l.cn)("text-xl sm:text-2xl font-bold flex items-center gap-2 sm:gap-3 leading-tight",a),...n})});p.displayName=o.Dx.displayName;let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)(o.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",a),...n})});x.displayName=o.dk.displayName},40279:function(e,t,a){a.d(t,{I:function(){return s}});var r=a(57437),n=a(2265),o=a(93448);let s=n.forwardRef((e,t)=>{let{className:a,type:n,...s}=e;return(0,r.jsx)("input",{type:n,className:(0,o.cn)("flex w-full rounded-md border border-slate-200 bg-white px-3 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300","h-11 sm:h-10 py-3 sm:py-2","text-base sm:text-sm","min-h-[44px]",a),ref:t,...s})});s.displayName="Input"},75060:function(e,t,a){a.d(t,{_:function(){return s}});var r=a(57437);a(2265);var n=a(6394),o=a(93448);function s(e){let{className:t,...a}=e;return(0,r.jsx)(n.f,{"data-slot":"label",className:(0,o.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...a})}},33804:function(e,t,a){a.d(t,{RM:function(){return l},SC:function(){return i},iA:function(){return o},pj:function(){return c},ss:function(){return d},xD:function(){return s}});var r=a(57437);a(2265);var n=a(93448);function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,n.cn)("w-full caption-bottom text-sm",t),...a})})}function s(e){let{className:t,...a}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,n.cn)("",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,n.cn)("[&_tr:last-child]:border-0",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,n.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,n.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,n.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}},23675:function(e,t,a){a.d(t,{g:function(){return s}});var r=a(57437),n=a(2265),o=a(93448);let s=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,r.jsx)("textarea",{className:(0,o.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...n})});s.displayName="Textarea"},60713:function(e,t,a){a.d(t,{OM:function(){return c}});var r=a(46410),n=a(96485);let o={folder:"uploads",fileName:"",maxSize:5,allowedTypes:["image/jpeg","image/png","image/webp","image/gif"],compress:!0,quality:.6},s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.6;return new Promise((a,r)=>{let n=document.createElement("canvas"),o=n.getContext("2d"),s=new Image;s.onload=()=>{let{width:l,height:i}=s;l>i?l>800&&(i=800*i/l,l=800):i>600&&(l=600*l/i,i=600),n.width=l,n.height=i,o?(o.drawImage(s,0,0,l,i),n.toBlob(t=>{t?a(new File([t],e.name,{type:e.type,lastModified:Date.now()})):r(Error("圖片壓縮失敗"))},e.type,t)):r(Error("無法創建 canvas context"))},s.onerror=()=>r(Error("圖片載入失敗")),s.src=URL.createObjectURL(e)})},l=(e,t)=>{let a=new Date,r=a.getFullYear(),n=String(a.getMonth()+1).padStart(2,"0"),o=String(a.getDate()).padStart(2,"0"),s=String(a.getHours()).padStart(2,"0"),l=String(a.getMinutes()).padStart(2,"0"),i=Date.now();return"".concat(e,"/").concat(r,"/").concat(n,"/").concat(o,"/").concat(s,"/").concat(l,"/").concat(i,"_").concat(t)},i=(e,t)=>e.size>1048576*t.maxSize?"檔案大小不能超過 ".concat(t.maxSize,"MB"):t.allowedTypes.includes(e.type)?null:"不支援的檔案類型: ".concat(e.type),d=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={...o,...t};try{let t=i(e,a);if(t)return{success:!1,error:t};let o=(0,r.KT)();if(!o)return{success:!1,error:"Firebase Storage 未初始化"};let d=e;if(a.compress)try{d=await s(e,a.quality),console.log("圖片壓縮完成:",d.name,"大小:",d.size)}catch(e){console.warn("圖片壓縮失敗，使用原始檔案:",e)}let c=a.fileName||e.name,u=l(a.folder,c),f=(0,n.ref)(o,u),m={contentType:e.type,cacheControl:"public, max-age=31536000"},p=await (0,n.KV)(f,d,m);console.log("檔案上傳成功:",u);let x=await (0,n.Jt)(p.ref);return console.log("下載 URL:",x),{success:!0,url:x,path:u}}catch(e){if(console.error("圖片上傳失敗:",e),e instanceof Error&&e.message.includes("unauthorized"))return{success:!1,error:"圖片上傳權限不足，請檢查 Firebase Storage 規則設定"};if(e instanceof Error&&e.message.includes("network"))return{success:!1,error:"網路連線問題，請檢查網路連線後重試"};return{success:!1,error:e instanceof Error?e.message:"未知錯誤"}}},c=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=[];for(let r of e){let e=await d(r,t);a.push(e)}return a}}}]);
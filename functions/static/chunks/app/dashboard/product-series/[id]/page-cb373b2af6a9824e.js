(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7785],{60240:function(e,t,a){Promise.resolve().then(a.bind(a,39062))},32660:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},31047:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},96362:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]])},44794:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]])},99397:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},15868:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},62720:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(79205).Z)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},99376:function(e,t,a){"use strict";var r=a(35475);a.o(r,"useParams")&&a.d(t,{useParams:function(){return r.useParams}}),a.o(r,"usePathname")&&a.d(t,{usePathname:function(){return r.usePathname}}),a.o(r,"useRouter")&&a.d(t,{useRouter:function(){return r.useRouter}}),a.o(r,"useSearchParams")&&a.d(t,{useSearchParams:function(){return r.useSearchParams}})},39062:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return k}});var r=a(57437),s=a(2265),n=a(99376),l=a(5978),d=a(46410),i=a(32660),c=a(15868);let o=(0,a(79205).Z)("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);var m=a(62720),u=a(44794),x=a(31047),f=a(99397),h=a(32489),p=a(96362),g=a(12381),j=a(79820),b=a(69174),y=a(14438),N=a(74291),v=a(15291),w=a(33804);function k(){let e=(0,n.useParams)(),t=(0,n.useRouter)(),[a,k]=(0,s.useState)(null),[Z,C]=(0,s.useState)([]),[M,z]=(0,s.useState)([]),[S,A]=(0,s.useState)([]),[R,P]=(0,s.useState)(!0),[_,D]=(0,s.useState)(null),[T,V]=(0,s.useState)(!1),[q,B]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{if(!e.id||"string"!=typeof e.id){D("產品系列 ID 無效"),P(!1);return}try{var t;if(!d.db)throw Error("Firebase 未初始化");let a=await (0,l.QT)((0,l.doc)(d.db,"productSeries",e.id));if(!a.exists()){D("產品系列不存在"),P(!1);return}let r=a.data(),s="未知";if(r.createdBy)try{let e=await (0,l.QT)((0,l.doc)(d.db,"users",r.createdBy));if(e.exists()){let t=e.data();s=(null==t?void 0:t.name)||(null==t?void 0:t.email)||"未知"}}catch(e){console.error("Failed to fetch creator name:",e)}let n=(0,l.query)((0,l.collection)(d.db,"products"),(0,l.where)("seriesRef","==",(0,l.doc)(d.db,"productSeries",e.id))),i=await (0,l.getDocs)(n),c=await Promise.all(i.docs.map(async e=>{var t;let a=e.data(),r="未知";if(a.currentFragranceRef)try{let e=await (0,l.QT)(a.currentFragranceRef);e.exists()&&(r=e.data().name)}catch(e){console.error("Failed to fetch fragrance name:",e)}return{id:e.id,name:a.name,code:a.code,status:a.status||"active",nicotineMg:a.nicotineMg||0,fragranceName:r,createdAt:(null===(t=a.createdAt)||void 0===t?void 0:t.toDate())||new Date}})),o=(await (0,l.getDocs)((0,l.collection)(d.db,"materials"))).docs.map(e=>({id:e.id,name:e.data().name,code:e.data().code,category:e.data().category,subCategory:e.data().subCategory})),m=[];if(r.commonMaterials)for(let e of r.commonMaterials){let t=await (0,l.QT)(e);if(t.exists()){let e=t.data();m.push({id:t.id,name:e.name,code:e.code,category:e.category,subCategory:e.subCategory})}}z(o),C(m),A(c),k({id:a.id,code:r.code,name:r.name,productType:r.productType||"其他(ETC)",commonMaterials:r.commonMaterials||[],createdAt:(null===(t=r.createdAt)||void 0===t?void 0:t.toDate())||new Date,createdBy:r.createdBy,createdByName:s,productCount:c.length})}catch(e){console.error("Failed to fetch series:",e),D("讀取產品系列資料失敗")}finally{P(!1)}})()},[e.id]);let O=async()=>{if(q&&a&&d.db)try{let e=(0,l.doc)(d.db,"materials",q),t=await (0,l.QT)(e);if(!t.exists()){y.Am.error("選擇的物料不存在");return}let r=t.data(),s={id:t.id,name:r.name,code:r.code,category:r.category,subCategory:r.subCategory};if(Z.some(e=>e.id===s.id)){y.Am.error("此物料已經在系列中");return}let n=[...a.commonMaterials,e];await (0,l.r7)((0,l.doc)(d.db,"productSeries",a.id),{commonMaterials:n}),C([...Z,s]),k({...a,commonMaterials:n}),y.Am.success("已添加物料: ".concat(s.name)),V(!1),B("")}catch(e){console.error("添加物料失敗:",e),y.Am.error("添加物料失敗")}},Y=async e=>{if(a&&d.db)try{let t=Z.find(t=>t.id===e);if(!t)return;let r=a.commonMaterials.filter(t=>t.id!==e);await (0,l.r7)((0,l.doc)(d.db,"productSeries",a.id),{commonMaterials:r}),C(Z.filter(t=>t.id!==e)),k({...a,commonMaterials:r}),y.Am.success("已移除物料: ".concat(t.name))}catch(e){console.error("移除物料失敗:",e),y.Am.error("移除物料失敗")}},E=e=>{t.push("/dashboard/products/".concat(e))};return R?(0,r.jsx)("div",{className:"container mx-auto py-10",children:(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"w-10 h-10 border-4 border-border rounded-full animate-spin border-t-primary mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"載入中..."})]})})}):_||!a?(0,r.jsx)("div",{className:"container mx-auto py-10",children:(0,r.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("p",{className:"text-red-600 mb-4",children:_||"產品系列不存在"}),(0,r.jsxs)(g.z,{onClick:()=>t.push("/dashboard/product-series"),children:[(0,r.jsx)(i.Z,{className:"mr-2 h-4 w-4"}),"返回系列管理"]})]})})}):(0,r.jsxs)("div",{className:"container mx-auto py-10",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,r.jsx)(g.z,{variant:"outline",size:"icon",onClick:()=>t.push("/dashboard/product-series"),className:"hover:bg-primary/10 hover:border-primary/20",children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})}),(0,r.jsxs)("div",{className:"flex-grow",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-primary",children:"系列詳情"}),(0,r.jsx)("p",{className:"text-muted-foreground font-mono",children:a.name})]}),(0,r.jsxs)(g.z,{onClick:()=>{t.push("/dashboard/product-series?edit=".concat(null==a?void 0:a.id))},className:"bg-primary hover:bg-primary/90",children:[(0,r.jsx)(c.Z,{className:"mr-2 h-4 w-4"}),"編輯"]})]}),(0,r.jsxs)(j.Zb,{className:"mb-6 border-0 shadow-lg bg-gradient-to-r from-background to-primary/10",children:[(0,r.jsx)(j.Ol,{children:(0,r.jsxs)(j.ll,{className:"flex items-center gap-2 text-primary",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary to-primary/80 rounded-lg flex items-center justify-center",children:(0,r.jsx)(o,{className:"h-4 w-4 text-white"})}),"系列基本資訊"]})}),(0,r.jsx)(j.aY,{children:(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-blue-50 to-blue-100 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-blue-600 font-medium",children:"系列名稱"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-blue-800",children:a.name})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-green-50 to-green-100 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-green-600 font-medium",children:"系列編號"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-green-800",children:a.code})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-purple-50 to-purple-100 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-purple-500 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(o,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-purple-600 font-medium",children:"產品類型"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-purple-800",children:a.productType})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3 p-4 bg-gradient-to-r from-orange-50 to-orange-100 rounded-lg",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-500 to-orange-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(x.Z,{className:"h-5 w-5 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-orange-600 font-medium",children:"建立時間"}),(0,r.jsx)("p",{className:"text-lg font-semibold text-orange-800",children:a.createdAt.toLocaleDateString("zh-TW")})]})]})]})})]}),(0,r.jsxs)(j.Zb,{className:"mb-6 border-0 shadow-lg",children:[(0,r.jsx)(j.Ol,{children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)(j.ll,{className:"flex items-center gap-2 text-primary",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-primary to-primary/80 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-3 w-3 text-white"})}),"使用材料 (",Z.length,")"]}),(0,r.jsxs)(g.z,{onClick:()=>V(!0),className:"bg-primary hover:bg-primary/90",children:[(0,r.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"新增材料"]})]})}),(0,r.jsx)(j.aY,{children:Z.length>0?(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Z.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg border border-gray-200",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-r from-primary to-primary/80 rounded-lg flex items-center justify-center",children:(0,r.jsx)(u.Z,{className:"h-4 w-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-foreground",children:e.name}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:["代號: ",e.code]}),e.category&&(0,r.jsxs)("div",{className:"text-xs text-muted-foreground",children:[e.category," ",e.subCategory&&"> ".concat(e.subCategory)]})]})]}),(0,r.jsx)(g.z,{variant:"ghost",size:"icon",onClick:()=>Y(e.id),className:"h-8 w-8 text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})]},e.id))}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(u.Z,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"此系列暫無使用材料"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"點擊「新增材料」來添加常用材料"})]})})]}),(0,r.jsxs)(j.Zb,{className:"border-0 shadow-lg",children:[(0,r.jsx)(j.Ol,{children:(0,r.jsxs)(j.ll,{className:"flex items-center gap-2 text-primary",children:[(0,r.jsx)("div",{className:"w-6 h-6 bg-gradient-to-r from-primary to-primary/80 rounded-lg flex items-center justify-center",children:(0,r.jsx)(o,{className:"h-3 w-3 text-white"})}),"產品明細 (",S.length,")"]})}),(0,r.jsx)(j.aY,{children:S.length>0?(0,r.jsx)("div",{className:"overflow-x-auto",children:(0,r.jsxs)(w.iA,{children:[(0,r.jsx)(w.xD,{children:(0,r.jsxs)(w.SC,{children:[(0,r.jsx)(w.ss,{children:"產品名稱"}),(0,r.jsx)(w.ss,{children:"產品代號"}),(0,r.jsx)(w.ss,{children:"香精"}),(0,r.jsx)(w.ss,{children:"尼古丁濃度"}),(0,r.jsx)(w.ss,{children:"狀態"}),(0,r.jsx)(w.ss,{children:"建立時間"}),(0,r.jsx)(w.ss,{className:"text-right",children:"操作"})]})}),(0,r.jsx)(w.RM,{children:S.map(e=>(0,r.jsxs)(w.SC,{className:"hover:bg-primary/5 transition-colors duration-200 cursor-pointer",onClick:()=>E(e.id),children:[(0,r.jsx)(w.pj,{className:"font-medium",children:e.name}),(0,r.jsx)(w.pj,{children:e.code}),(0,r.jsx)(w.pj,{children:e.fragranceName}),(0,r.jsxs)(w.pj,{children:[e.nicotineMg,"mg"]}),(0,r.jsx)(w.pj,{children:(0,r.jsx)(b.C,{variant:"active"===e.status?"default":"secondary",className:"active"===e.status?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800",children:"active"===e.status?"啟用":"停用"})}),(0,r.jsx)(w.pj,{children:e.createdAt.toLocaleDateString("zh-TW")}),(0,r.jsx)(w.pj,{className:"text-right",children:(0,r.jsx)(g.z,{variant:"ghost",size:"icon",onClick:t=>{t.stopPropagation(),E(e.id)},className:"h-8 w-8",children:(0,r.jsx)(p.Z,{className:"h-4 w-4"})})})]},e.id))})]})}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gradient-to-r from-gray-100 to-gray-200 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(o,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"此系列暫無產品"}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"在產品管理中新增產品時選擇此系列"})]})})]}),(0,r.jsx)(N.Vq,{open:T,onOpenChange:V,children:(0,r.jsxs)(N.cZ,{className:"sm:max-w-md",children:[(0,r.jsxs)(N.fK,{children:[(0,r.jsx)(N.$N,{children:"新增使用材料"}),(0,r.jsx)(N.Be,{children:"為此產品系列選擇要添加的常用材料"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"選擇材料"}),(0,r.jsxs)(v.Ph,{value:q,onValueChange:B,children:[(0,r.jsx)(v.i4,{children:(0,r.jsx)(v.ki,{placeholder:"選擇要添加的材料"})}),(0,r.jsx)(v.Bw,{children:M.filter(e=>!Z.some(t=>t.id===e.id)).map(e=>(0,r.jsx)(v.Ql,{value:e.id,children:(0,r.jsxs)("div",{className:"flex flex-col",children:[(0,r.jsx)("span",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-blue-100 text-blue-800",children:e.category||"未分類"}),(0,r.jsx)("span",{className:"text-xs px-2 py-0.5 rounded bg-green-100 text-green-800",children:e.subCategory||"未分類"}),(0,r.jsxs)("span",{className:"text-xs text-muted-foreground",children:["代號: ",e.code]})]})]})},e.id))})]})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,r.jsx)(g.z,{variant:"outline",onClick:()=>{V(!1),B("")},children:"取消"}),(0,r.jsx)(g.z,{onClick:O,disabled:!q,children:"新增"})]})]})]})})]})}},69174:function(e,t,a){"use strict";a.d(t,{C:function(){return i}});var r=a(57437);a(2265);var s=a(37053),n=a(90535),l=a(93448);let d=(0,n.j)("inline-flex items-center justify-center rounded-full px-2 py-1 text-xs font-medium focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-blue-100 text-blue-700",secondary:"bg-muted text-muted-foreground",destructive:"bg-red-100 text-red-700",outline:"text-foreground border border-border",success:"bg-green-100 text-green-700",warning:"bg-yellow-100 text-yellow-700",purple:"bg-purple-100 text-purple-700"}},defaultVariants:{variant:"default"}});function i(e){let{className:t,variant:a,asChild:n=!1,...i}=e,c=n?s.g7:"span";return(0,r.jsx)(c,{"data-slot":"badge",className:(0,l.cn)(d({variant:a}),t),...i})}},79820:function(e,t,a){"use strict";a.d(t,{Ol:function(){return l},SZ:function(){return i},Zb:function(){return n},aY:function(){return c},eW:function(){return o},ll:function(){return d}});var r=a(57437);a(2265);var s=a(93448);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,s.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-lg border-2 p-6 shadow-md",t),...a})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto]",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-semibold",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"card-footer",className:(0,s.cn)("flex items-center",t),...a})}},74291:function(e,t,a){"use strict";a.d(t,{$N:function(){return f},Be:function(){return h},Vq:function(){return i},cN:function(){return x},cZ:function(){return m},fK:function(){return u}});var r=a(57437),s=a(2265),n=a(49027),l=a(32489),d=a(93448);let i=n.fC;n.xz;let c=n.h_;n.x8;let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,d.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});o.displayName=n.aV.displayName;let m=s.forwardRef((e,t)=>{let{className:a,children:s,...i}=e;return(0,r.jsxs)(c,{children:[(0,r.jsx)(o,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,d.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-2xl translate-x-[-50%] translate-y-[-50%] gap-4 border-2 border-border bg-background shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[90vh] overflow-y-auto","p-4 sm:p-6 mx-2 sm:mx-0","max-w-[calc(100vw-1rem)] sm:max-w-lg md:max-w-xl lg:max-w-2xl","max-h-[95vh] sm:max-h-[90vh]",a),...i,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-3 top-3 sm:right-4 sm:top-4 z-10 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground p-1",children:[(0,r.jsx)(l.Z,{className:"h-5 w-5 sm:h-4 sm:w-4"}),(0,r.jsx)("span",{className:"sr-only",children:"關閉"})]})]})]})});m.displayName=n.VY.displayName;let u=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col space-y-1.5 text-center sm:text-left pb-4 border-b border-border",t),...a})};u.displayName="DialogHeader";let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,d.cn)("flex flex-col-reverse sm:flex-row sm:justify-end gap-2 sm:gap-0 sm:space-x-2 pt-4 border-t border-border","[&>*]:w-full sm:[&>*]:w-auto",t),...a})};x.displayName="DialogFooter";let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,d.cn)("text-xl sm:text-2xl font-bold flex items-center gap-2 sm:gap-3 leading-tight",a),...s})});f.displayName=n.Dx.displayName;let h=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,d.cn)("text-sm text-muted-foreground",a),...s})});h.displayName=n.dk.displayName},15291:function(e,t,a){"use strict";a.d(t,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return p},i4:function(){return u},ki:function(){return m}});var r=a(57437),s=a(2265),n=a(33911),l=a(40875),d=a(22135),i=a(30401),c=a(93448);let o=n.fC;n.ZA;let m=n.B4,u=s.forwardRef((e,t)=>{let{className:a,children:s,...d}=e;return(0,r.jsxs)(n.xz,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus:ring-slate-300",a),...d,children:[s,(0,r.jsx)(n.JO,{asChild:!0,children:(0,r.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=n.xz.displayName;let x=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(d.Z,{className:"h-4 w-4"})})});x.displayName=n.u_.displayName;let f=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...s,children:(0,r.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let h=s.forwardRef((e,t)=>{let{className:a,children:s,position:l="popper",...d}=e;return(0,r.jsx)(n.h_,{children:(0,r.jsxs)(n.VY,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-slate-200 bg-white text-slate-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-slate-800 dark:bg-slate-950 dark:text-slate-50","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:l,...d,children:[(0,r.jsx)(x,{}),(0,r.jsx)(n.l_,{className:(0,c.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,r.jsx)(f,{})]})})});h.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...s})}).displayName=n.__.displayName;let p=s.forwardRef((e,t)=>{let{className:a,children:s,...l}=e;return(0,r.jsxs)(n.ck,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-slate-100 focus:text-slate-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-slate-800 dark:focus:text-slate-50",a),...l,children:[(0,r.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,r.jsx)(n.wU,{children:(0,r.jsx)(i.Z,{className:"h-4 w-4"})})}),(0,r.jsx)(n.eT,{children:s})]})});p.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-slate-100 dark:bg-slate-800",a),...s})}).displayName=n.Z0.displayName},33804:function(e,t,a){"use strict";a.d(t,{RM:function(){return d},SC:function(){return i},iA:function(){return n},pj:function(){return o},ss:function(){return c},xD:function(){return l}});var r=a(57437);a(2265);var s=a(93448);function n(e){let{className:t,...a}=e;return(0,r.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,r.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",t),...a})})}function l(e){let{className:t,...a}=e;return(0,r.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("",t),...a})}function d(e){let{className:t,...a}=e;return(0,r.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",t),...a})}function i(e){let{className:t,...a}=e;return(0,r.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b border-border transition-colors",t),...a})}function c(e){let{className:t,...a}=e;return(0,r.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("bg-muted text-foreground font-semibold border-b border-border p-3 text-left align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}function o(e){let{className:t,...a}=e;return(0,r.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-3 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...a})}}},function(e){e.O(0,[3609,9015,3676,5569,4438,9436,3909,2696,4116,4200,2365,2971,2117,1744],function(){return e(e.s=60240)}),_N_E=e.O()}]);
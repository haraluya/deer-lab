(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7955],{56834:function(e,s,t){Promise.resolve().then(t.bind(t,72624))},66927:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Droplets",[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]])},67782:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},42208:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},99397:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,s,t){"use strict";t.d(s,{Z:function(){return r}});let r=(0,t(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},72624:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return S}});var r=t(57437),a=t(2265),l=t(5978),i=t(1850),n=t(46410),c=t(62116),d=t(25751),o=t(99397),x=t(73247),m=t(60044),h=t(67782),u=t(42208),g=t(15868),j=t(44794),p=t(92369),f=t(13041),b=t(66927),N=t(14438),y=t(12381),v=t(69174),w=t(40279),C=t(33804),Z=t(32060),k=t(74291);function D(){let[e,s]=(0,a.useState)([]),[t,b]=(0,a.useState)([]),[v,D]=(0,a.useState)(!0),[S,P]=(0,a.useState)(!1),[z,E]=(0,a.useState)(!1),[O,R]=(0,a.useState)(null),[M,_]=(0,a.useState)(!1),[T,V]=(0,a.useState)(null),[F,I]=(0,a.useState)(""),L=(0,a.useCallback)(async()=>{D(!0);try{if(!n.db)throw Error("Firebase 未初始化");let e=(0,l.collection)(n.db,"suppliers"),t=await (0,l.getDocs)(e);console.log("原始供應商資料:",t.docs.map(e=>({id:e.id,...e.data()})));let r=await Promise.all(t.docs.map(async e=>{let s=e.data(),t="",r="";if(s.liaisonPersonId&&n.db)try{let e=await (0,l.QT)((0,l.doc)(n.db,"users",s.liaisonPersonId));if(e.exists()){let s=e.data();t=s.name||"",r=s.phone||""}}catch(e){console.error("獲取對接人員資訊失敗:",e)}let a={...s,id:e.id,liaisonPersonName:t,liaisonPersonPhone:r};return console.log("處理後的供應商資料:",a),a}));console.log("最終供應商列表:",r),s(r),b(r)}catch(e){console.error("讀取供應商資料失敗:",e),N.Am.error("讀取供應商資料失敗，請檢查網路連線或聯絡管理員。")}finally{D(!1)}},[]);(0,a.useEffect)(()=>{L()},[L]),(0,a.useEffect)(()=>{F.trim()?b(e.filter(e=>{var s,t,r,a;return(null===(s=e.name)||void 0===s?void 0:s.toLowerCase().includes(F.toLowerCase()))||(null===(t=e.products)||void 0===t?void 0:t.toLowerCase().includes(F.toLowerCase()))||(null===(r=e.contactWindow)||void 0===r?void 0:r.toLowerCase().includes(F.toLowerCase()))||(null===(a=e.liaisonPersonName)||void 0===a?void 0:a.toLowerCase().includes(F.toLowerCase()))})):b(e)},[F,e]);let W=()=>{V(null),P(!0)},$=e=>{V(e),P(!0)},q=e=>{V(e),E(!0)},X=e=>{R(e),_(!0)},U=async()=>{if(!T)return;let e=N.Am.loading("正在刪除供應商...");try{let s=(0,i.$C)(),t=(0,i.V1)(s,"deleteSupplier");await t({supplierId:T.id}),N.Am.success("供應商 ".concat(T.name," 已成功刪除。"),{id:e}),L()}catch(t){console.error("刪除供應商失敗:",t);let s="刪除供應商時發生錯誤。";t instanceof Error&&(s=t.message),N.Am.error(s,{id:e})}finally{E(!1),V(null)}};return(0,r.jsxs)("div",{className:"container mx-auto py-6 suppliers-page",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:"供應商管理"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1 text-sm lg:text-base",children:"管理合作供應商與聯絡資訊"})]}),(0,r.jsxs)(y.z,{onClick:W,className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200 w-full sm:w-auto",children:[(0,r.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"新增供應商"]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsxs)("div",{className:"relative max-w-md",children:[(0,r.jsx)(x.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,r.jsx)(w.I,{placeholder:"搜尋供應商名稱、供應商品...",value:F,onChange:e=>I(e.target.value),className:"pl-9 bg-white border-gray-200 focus:border-blue-500 focus:ring-blue-500"})]}),F&&(0,r.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["找到 ",t.length," 個符合條件的供應商"]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-lg border border-gray-100 overflow-hidden",children:[(0,r.jsx)("div",{className:"lg:hidden px-4 py-3 bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 text-blue-600"}),(0,r.jsx)("h2",{className:"text-base font-semibold text-gray-800",children:"供應商清單"})]}),(0,r.jsxs)("div",{className:"text-xs text-gray-600",children:["共 ",t.length," 個"]})]})}),v?(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-12",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-10 h-10 border-4 border-blue-200 rounded-full animate-spin"}),(0,r.jsx)("div",{className:"absolute top-0 left-0 w-10 h-10 border-4 border-transparent border-t-blue-600 rounded-full animate-spin"})]}),(0,r.jsx)("span",{className:"mt-3 text-sm text-gray-600 font-medium",children:"載入中..."})]}):t.length>0?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"hidden lg:block overflow-x-auto",children:(0,r.jsxs)(C.iA,{children:[(0,r.jsx)(C.xD,{children:(0,r.jsxs)(C.SC,{className:"bg-gray-50/80",children:[(0,r.jsx)(C.ss,{className:"font-semibold text-gray-700",children:"供應商名稱"}),(0,r.jsx)(C.ss,{className:"font-semibold text-gray-700",children:"供應商品"}),(0,r.jsx)(C.ss,{className:"font-semibold text-gray-700",children:"聯絡窗口"}),(0,r.jsx)(C.ss,{className:"font-semibold text-gray-700",children:"聯絡方式"}),(0,r.jsx)(C.ss,{className:"font-semibold text-gray-700",children:"對接人員"}),(0,r.jsx)(C.ss,{className:"text-center font-semibold text-gray-700",children:"操作"})]})}),(0,r.jsx)(C.RM,{children:t.map(e=>(0,r.jsxs)(C.SC,{className:"hover:bg-blue-50/50 transition-colors duration-200 cursor-pointer",onClick:()=>X(e),children:[(0,r.jsx)(C.pj,{className:"font-medium",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-4 w-4 text-white"})}),e.name]})}),(0,r.jsx)(C.pj,{children:e.products||"-"}),(0,r.jsx)(C.pj,{children:e.contactWindow||"未指定"}),(0,r.jsx)(C.pj,{children:e.contactMethod||"-"}),(0,r.jsx)(C.pj,{children:e.liaisonPersonName||"未指定"}),(0,r.jsx)(C.pj,{className:"text-center",children:(0,r.jsxs)(Z.h_,{children:[(0,r.jsx)(Z.$F,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(y.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(Z.AW,{align:"end",children:[(0,r.jsx)(Z.Ju,{children:"操作"}),(0,r.jsx)(Z.VD,{}),(0,r.jsxs)(Z.Xi,{onClick:()=>X(e),children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"查看詳細"]}),(0,r.jsxs)(Z.Xi,{onClick:s=>{s.stopPropagation(),$(e)},children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"編輯"]}),(0,r.jsx)(Z.VD,{}),(0,r.jsx)(Z.Xi,{onClick:()=>q(e),className:"text-red-600 focus:text-red-600",children:"刪除"})]})]})})]},e.id))})]})}),(0,r.jsx)("div",{className:"lg:hidden divide-y divide-gray-200",children:t.map(e=>(0,r.jsxs)("div",{className:"p-4 hover:bg-blue-50/50 transition-colors duration-200 cursor-pointer",onClick:()=>X(e),children:[(0,r.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-4 w-4 text-white"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium text-gray-900 text-sm",children:e.name}),(0,r.jsx)("div",{className:"text-xs text-gray-500",children:"供應商"})]})]}),(0,r.jsxs)(Z.h_,{children:[(0,r.jsx)(Z.$F,{asChild:!0,onClick:e=>e.stopPropagation(),children:(0,r.jsx)(y.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,r.jsx)(h.Z,{className:"h-4 w-4"})})}),(0,r.jsxs)(Z.AW,{align:"end",children:[(0,r.jsxs)(Z.Xi,{onClick:()=>X(e),children:[(0,r.jsx)(u.Z,{className:"h-4 w-4 mr-2"}),"查看詳細"]}),(0,r.jsxs)(Z.Xi,{onClick:()=>$(e),children:[(0,r.jsx)(g.Z,{className:"h-4 w-4 mr-2"}),"編輯"]}),(0,r.jsx)(Z.VD,{}),(0,r.jsx)(Z.Xi,{onClick:()=>q(e),className:"text-red-600",children:"刪除"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)(j.Z,{className:"h-3 w-3 text-blue-600"}),(0,r.jsx)("span",{className:"text-gray-500",children:"供應商品"})]}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.products||"未提供"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)(p.Z,{className:"h-3 w-3 text-green-600"}),(0,r.jsx)("span",{className:"text-gray-500",children:"聯絡窗口"})]}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.contactWindow||"未指定"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)(f.Z,{className:"h-3 w-3 text-purple-600"}),(0,r.jsx)("span",{className:"text-gray-500",children:"聯絡方式"})]}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.contactMethod||"未提供"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center gap-1 mb-1",children:[(0,r.jsx)(p.Z,{className:"h-3 w-3 text-orange-600"}),(0,r.jsx)("span",{className:"text-gray-500",children:"對接人員"})]}),(0,r.jsx)("span",{className:"font-medium text-gray-700",children:e.liaisonPersonName||"未指定"})]})]})]},e.id))})]}):(0,r.jsxs)("div",{className:"flex flex-col items-center justify-center py-16",children:[(0,r.jsx)("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mb-4",children:(0,r.jsx)(m.Z,{className:"h-8 w-8 text-gray-400"})}),(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:F?"找不到符合條件的供應商":"沒有供應商資料"}),(0,r.jsx)("p",{className:"text-gray-500 mb-4 text-center",children:F?"請嘗試不同的搜尋條件":"開始建立第一個供應商來管理合作關係"}),!F&&(0,r.jsxs)(y.z,{onClick:W,variant:"outline",className:"border-blue-200 text-blue-600 hover:bg-blue-50",children:[(0,r.jsx)(o.Z,{className:"mr-2 h-4 w-4"}),"新增供應商"]})]})]}),(0,r.jsx)(c.g,{isOpen:S,onOpenChange:P,onSupplierUpdate:L,supplierData:T}),T&&(0,r.jsx)(d.Q,{isOpen:z,onOpenChange:E,onConfirm:U,title:"確認刪除供應商",description:"您確定要永久刪除供應商「".concat(T.name,"」嗎？此操作無法復原。")}),O&&(0,r.jsx)(k.Vq,{open:M,onOpenChange:_,children:(0,r.jsxs)(k.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto bg-white",children:[(0,r.jsxs)(k.fK,{className:"pb-4 border-b border-gray-200",children:[(0,r.jsxs)(k.$N,{className:"flex items-center gap-3 text-2xl font-bold bg-gradient-to-r from-blue-600 to-indigo-600 bg-clip-text text-transparent",children:[(0,r.jsx)("div",{className:"w-10 h-10 bg-gradient-to-r from-blue-500 to-indigo-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-5 w-5 text-white"})}),"供應商詳情"]}),(0,r.jsx)("p",{className:"text-gray-600 mt-2",children:"供應商詳細資訊"})]}),(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-blue-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(m.Z,{className:"h-4 w-4 text-blue-600"})}),"基本資訊"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"供應商名稱"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:O.name||"-"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"供應商品"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:O.products||"-"})]})]})]}),(0,r.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-green-50 to-emerald-50 rounded-xl border border-green-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-green-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(p.Z,{className:"h-4 w-4 text-green-600"})}),"聯絡資訊"]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"聯絡窗口"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:O.contactWindow||"未指定"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"聯絡方式"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:O.contactMethod||"-"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"對接人員"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900",children:O.liaisonPersonName||"未指定"})]})]})]}),O.notes&&(0,r.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl border border-purple-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-purple-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(j.Z,{className:"h-4 w-4 text-purple-600"})}),"詳細內容"]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-semibold text-gray-700",children:"備註資料"}),(0,r.jsx)("div",{className:"text-lg font-medium text-gray-900 whitespace-pre-wrap bg-white p-4 rounded-lg border border-gray-200 shadow-sm",children:O.notes})]})]}),(0,r.jsx)(A,{supplierId:O.id})]}),(0,r.jsxs)("div",{className:"flex justify-end gap-3 pt-6 border-t border-gray-200",children:[(0,r.jsx)(y.z,{variant:"outline",onClick:()=>_(!1),className:"border-gray-300 text-gray-700 hover:bg-gray-50",children:"關閉"}),(0,r.jsxs)(y.z,{onClick:()=>{_(!1),setTimeout(()=>{$(O)},100)},className:"bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white shadow-lg hover:shadow-xl transition-all duration-200",children:[(0,r.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"編輯"]})]})]})})]})}function A(e){let{supplierId:s}=e,[t,i]=(0,a.useState)([]),[c,d]=(0,a.useState)([]),[o,x]=(0,a.useState)(!0);if((0,a.useEffect)(()=>{let e=async()=>{x(!0);try{if(!n.db)throw Error("Firebase 未初始化");let e=(0,l.collection)(n.db,"materials"),t=(0,l.query)(e,(0,l.where)("supplierRef","==",(0,l.doc)(n.db,"suppliers",s))),r=(await (0,l.getDocs)(t)).docs.map(e=>({id:e.id,...e.data()})),a=(0,l.collection)(n.db,"fragrances"),c=(0,l.query)(a,(0,l.where)("supplierRef","==",(0,l.doc)(n.db,"suppliers",s))),o=(await (0,l.getDocs)(c)).docs.map(e=>({id:e.id,...e.data()})),x=r.sort((e,s)=>e.name.localeCompare(s.name,"zh-TW")),m=o.sort((e,s)=>e.name.localeCompare(s.name,"zh-TW"));i(x),d(m)}catch(e){console.error("獲取相關物料和香精失敗:",e),N.Am.error("獲取相關物料和香精失敗")}finally{x(!1)}};s&&e()},[s]),o)return(0,r.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-orange-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(j.Z,{className:"h-4 w-4 text-orange-600"})}),"相關物料和香精"]}),(0,r.jsxs)("div",{className:"flex items-center justify-center py-8",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-600"}),(0,r.jsx)("span",{className:"ml-2 text-orange-600",children:"載入中..."})]})]});let h=t.length>0||c.length>0;return(0,r.jsxs)("div",{className:"space-y-6 p-6 bg-gradient-to-r from-orange-50 to-amber-50 rounded-xl border border-orange-200 shadow-sm",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold flex items-center gap-3 text-orange-800",children:[(0,r.jsx)("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:(0,r.jsx)(j.Z,{className:"h-4 w-4 text-orange-600"})}),"相關物料和香精"]}),h?(0,r.jsxs)("div",{className:"space-y-6",children:[t.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-orange-700 flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4"}),"相關物料 (",t.length,")"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:t.map(e=>(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsx)(v.C,{variant:"outline",className:"text-xs",children:e.code})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("div",{children:["分類: ",e.category," / ",e.subCategory]}),(0,r.jsxs)("div",{children:["庫存: ",e.currentStock||0," ",e.unit]}),(0,r.jsxs)("div",{children:["成本: NT$ ",e.costPerUnit||0]})]})]},e.id))})]}),c.length>0&&(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("h4",{className:"text-lg font-semibold text-orange-700 flex items-center gap-2",children:[(0,r.jsx)(b.Z,{className:"h-4 w-4"}),"相關香精 (",c.length,")"]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:c.map(e=>(0,r.jsxs)("div",{className:"bg-white p-4 rounded-lg border border-orange-200 shadow-sm",children:[(0,r.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,r.jsx)("div",{className:"font-medium text-gray-900",children:e.name}),(0,r.jsx)(v.C,{variant:"outline",className:"text-xs",children:e.code})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,r.jsxs)("div",{children:["種類: ",e.fragranceType||e.status]}),(0,r.jsxs)("div",{children:["庫存: ",e.currentStock||0," ",e.unit||"KG"]}),(0,r.jsxs)("div",{children:["成本: NT$ ",e.costPerUnit||0]}),e.percentage&&(0,r.jsxs)("div",{children:["濃度: ",e.percentage,"%"]})]})]},e.id))})]})]}):(0,r.jsxs)("div",{className:"text-center py-8 text-orange-600",children:[(0,r.jsx)(j.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,r.jsx)("p",{children:"目前沒有相關的物料或香精"})]})]})}function S(){return(0,r.jsx)(D,{})}},90277:function(e,s,t){"use strict";t.d(s,{$j:function(){return T},Dx:function(){return V},VY:function(){return M},aU:function(){return _},aV:function(){return R},dk:function(){return F},fC:function(){return z},h_:function(){return O},xz:function(){return E}});var r=t(2265),a=t(73966),l=t(98575),i=t(49027),n=t(6741),c=t(37053),d=t(57437),o="AlertDialog",[x,m]=(0,a.b)(o,[i.p8]),h=(0,i.p8)(),u=e=>{let{__scopeAlertDialog:s,...t}=e,r=h(s);return(0,d.jsx)(i.fC,{...r,...t,modal:!0})};u.displayName=o;var g=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,a=h(t);return(0,d.jsx)(i.xz,{...a,...r,ref:s})});g.displayName="AlertDialogTrigger";var j=e=>{let{__scopeAlertDialog:s,...t}=e,r=h(s);return(0,d.jsx)(i.h_,{...r,...t})};j.displayName="AlertDialogPortal";var p=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,a=h(t);return(0,d.jsx)(i.aV,{...a,...r,ref:s})});p.displayName="AlertDialogOverlay";var f="AlertDialogContent",[b,N]=x(f),y=(0,c.sA)("AlertDialogContent"),v=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,children:a,...c}=e,o=h(t),x=r.useRef(null),m=(0,l.e)(s,x),u=r.useRef(null);return(0,d.jsx)(i.jm,{contentName:f,titleName:w,docsSlug:"alert-dialog",children:(0,d.jsx)(b,{scope:t,cancelRef:u,children:(0,d.jsxs)(i.VY,{role:"alertdialog",...o,...c,ref:m,onOpenAutoFocus:(0,n.Mj)(c.onOpenAutoFocus,e=>{var s;e.preventDefault(),null===(s=u.current)||void 0===s||s.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,d.jsx)(y,{children:a}),(0,d.jsx)(P,{contentRef:x})]})})})});v.displayName=f;var w="AlertDialogTitle",C=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,a=h(t);return(0,d.jsx)(i.Dx,{...a,...r,ref:s})});C.displayName=w;var Z="AlertDialogDescription",k=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,a=h(t);return(0,d.jsx)(i.dk,{...a,...r,ref:s})});k.displayName=Z;var D=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,a=h(t);return(0,d.jsx)(i.x8,{...a,...r,ref:s})});D.displayName="AlertDialogAction";var A="AlertDialogCancel",S=r.forwardRef((e,s)=>{let{__scopeAlertDialog:t,...r}=e,{cancelRef:a}=N(A,t),n=h(t),c=(0,l.e)(s,a);return(0,d.jsx)(i.x8,{...n,...r,ref:c})});S.displayName=A;var P=e=>{let{contentRef:s}=e,t="`".concat(f,"` requires a description for the component to be accessible for screen reader users.\n\nYou can add a description to the `").concat(f,"` by passing a `").concat(Z,"` component as a child, which also benefits sighted users by adding visible context to the dialog.\n\nAlternatively, you can use your own component as a description by assigning it an `id` and passing the same value to the `aria-describedby` prop in `").concat(f,"`. If the description is confusing or duplicative for sighted users, you can use the `@radix-ui/react-visually-hidden` primitive as a wrapper around your description component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/alert-dialog");return r.useEffect(()=>{var e;document.getElementById(null===(e=s.current)||void 0===e?void 0:e.getAttribute("aria-describedby"))||console.warn(t)},[t,s]),null},z=u,E=g,O=j,R=p,M=v,_=D,T=S,V=C,F=k}},function(e){e.O(0,[3609,9015,3676,5569,4438,9436,3909,2696,4116,4200,6818,5184,2365,2313,1763,2971,2117,1744],function(){return e(e.s=56834)}),_N_E=e.O()}]);